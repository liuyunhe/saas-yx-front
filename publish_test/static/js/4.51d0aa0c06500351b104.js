webpackJsonp([4],{"+KqV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:()=>({loading:!1,keyTypeList:{1:"门店名称",2:"联系人姓名",3:"手机号",4:"专卖许可证"},form:{pageNo:1,pageSize:10,status:1,keyType:"3",keywords:""},pagination:{total:0},tableList:[],modifyForm:{isNew:!0,show:!1,id:"",shopName:"",licenceNo:"",ownerName:"",phoneNo:""}}),created(){this.list()},methods:{currentChange(e){this.list(event,e)},sizeChange(e){this.list(event,null,e)},initPagination(e){e&&(this.pagination.total=e.count)},resetForm(){this.form={pageNo:1,pageSize:10,status:1,keyType:"3",keywords:""},this.list()},list(e,t,a){let s=1;t&&(s=t),this.form.pageNo=s;let r=10;a&&(r=a),this.form.pageSize=r,this.loading=!0,this.$request.post("/api/wiseqr/seller/whitelist",this.form,!0,e=>{this.loading=!1,2e5==e.ret?(this.tableList=e.data.list||[],this.initPagination(e.data.page||{})):this.$message.error(e.message)})},resetModifyForm(){this.modifyForm={isNew:!0,show:!1,id:"",shopName:"",licenceNo:"",ownerName:"",phoneNo:""}},removeSeller(e,t){let a={id:t.id,status:0};this.$confirm("确认要删除白名单数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request.post("/api/wiseqr/seller/mstatus",a,!0,e=>{2e5==e.ret?this.list(null,this.form.pageNo,this.form.pageSize):this.$message.error(e.message)})}).catch(()=>{})},modifySeller(e,t){this.modifyForm={isNew:!1,show:!0,id:t.id,shopName:t.shopName,licenceNo:t.licenceNo,ownerName:t.ownerName,phoneNo:t.phoneNo}},newWhitelist(){this.resetModifyForm(),this.modifyForm.show=!0},modifyConfirm(){if(!/^1[0-9]{10}$/.test(this.modifyForm.phoneNo))return void this.$message.error("手机号格式错误！");this.modifyForm.isNew,this.$request.post("/api/wiseqr/seller/somWhitelist",this.modifyForm,!0,e=>{this.loading=!1,2e5==e.ret?(this.resetModifyForm(),this.list()):this.$message.error(e.message)})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.newWhitelist}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-form",{staticClass:"search-block",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{staticClass:"input-with-select",attrs:{size:"small",placeholder:"请输入关键词"},model:{value:e.form.keywords,callback:function(t){e.$set(e.form,"keywords",t)},expression:"form.keywords"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.form.keyType,callback:function(t){e.$set(e.form,"keyType",t)},expression:"form.keyType"}},e._l(e.keyTypeList,function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})}))],1)],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.list}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-card",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s((e.form.pageNo-1)*e.form.pageSize+t.$index+1)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"shopName",label:"门店名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"licenceNo",label:"专卖许可证",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownerName",label:"联系人姓名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNo",label:"联系人电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.modifySeller(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.removeSeller(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.form.pageNo,"page-size":e.form.pageSize,total:e.pagination.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),a("el-dialog",{attrs:{center:"",title:"白名单管理",visible:e.modifyForm.show,width:"30%"},on:{"update:visible":function(t){e.$set(e.modifyForm,"show",t)},closed:e.resetModifyForm}},[a("div",[a("el-form",{staticClass:"search-block",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"门店名称"}},[a("el-input",{staticClass:"audit-score",attrs:{size:"small",disabled:!1,placeholder:"请输入门店名称"},model:{value:e.modifyForm.shopName,callback:function(t){e.$set(e.modifyForm,"shopName",t)},expression:"modifyForm.shopName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专卖许可证"}},[a("el-input",{staticClass:"audit-score",attrs:{size:"small",type:"number",disabled:!1,placeholder:"请输入专卖许可证"},model:{value:e.modifyForm.licenceNo,callback:function(t){e.$set(e.modifyForm,"licenceNo",t)},expression:"modifyForm.licenceNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人姓名"}},[a("el-input",{staticClass:"audit-score",attrs:{size:"small",placeholder:"请输入联系人姓名"},model:{value:e.modifyForm.ownerName,callback:function(t){e.$set(e.modifyForm,"ownerName",t)},expression:"modifyForm.ownerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",required:!0}},[a("el-input",{staticClass:"audit-score",attrs:{size:"small",type:"number",placeholder:"请输入手机号"},model:{value:e.modifyForm.phoneNo,callback:function(t){e.$set(e.modifyForm,"phoneNo",t)},expression:"modifyForm.phoneNo"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.modifyConfirm}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.modifyForm.show=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("kj/0")},"data-v-2f44b006",null);t.default=l.exports},"4/Hn":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={props:["sellerId","returnPath"],name:"",data:()=>({disabled:!0,headers:{loginId:sessionStorage.getItem("access_loginId"),token:sessionStorage.getItem("access_token")},commercialList:[{code:"",name:"全部"},{code:"1",name:"食杂店"},{code:"2",name:"便利店"},{code:"3",name:"超市"},{code:"4",name:"商场"},{code:"5",name:"烟酒商店"},{code:"6",name:"娱乐服务"},{code:"7",name:"其他"}],districtList:[{code:"",name:"全部"},{code:"1",name:"城镇"},{code:"2",name:"乡村"}],cateLvl1List:[],cateLvl2List:[],cateLvl3List:[],ruleForm:{headImg:"",shopName:"",ownerName:"",phoneNo:"",addrProvince:"",addrCity:"",addrArea:"",addrDetail:"",licenceNo:"",licenceImg:"",district:"",commercial:"",salesManNames:"",contactName:"",contactPhone:"",status:""},rules:{headImg:[{required:!0,message:"请上传门店照片",trigger:"change"}],shopName:[{required:!0,message:"请输入门店名称",trigger:"blur"}],ownerName:[{required:!0,message:"请输入经营人姓名",trigger:"blur"}],phoneNo:[{required:!0,message:"请输入经营人电话",trigger:"blur"}],addrProvince:[{required:!0,message:"请选择省份",trigger:"change"}],addrCity:[{required:!0,message:"请选择城市",trigger:"change"}],addrArea:[{required:!0,message:"请选择地区",trigger:"change"}],addrDetail:[{required:!0,message:"请输入门店地址",trigger:"blur"}],licenceNo:[{required:!0,message:"请输入烟草专卖证号",trigger:"blur"}],licenceImg:[{required:!0,message:"请上传烟草专卖证号照片",trigger:"change"}],district:[{required:!0,message:"请选择区域",trigger:"change"}],commercial:[{required:!0,message:"请选择业态",trigger:"change"}],salesManNames:[{required:!0,message:"请输入业务员姓名",trigger:"change"}],contactName:[{required:!0,message:"请输入联系人姓名",trigger:"change"}],contactPhone:[{required:!0,message:"请输入联系人电话",trigger:"change"}],authStatus:[{required:!0,message:"请选择审核状态",trigger:"change"}],failReason:[]},applyTime:"",passTime:"",balance:"",printQrCodeCount:"",scanCount:"",fansCount:"",score:"",wxNickname:""}),created(){this.getOneCategory(),this.getReviewDetail()},methods:{getReviewDetail(){this.$request.post("/lsh/seller-manager/seller/select/detail",{sellerId:this.sellerId},!1,e=>{e.ok&&(this.applyTime=new Date(e.data.sellerInfo.applyTime).Format("yyyy-MM-dd hh:mm:ss"),this.passTime=new Date(e.data.sellerInfo.passTime).Format("yyyy-MM-dd hh:mm:ss"),this.balance=e.data.sellerInfo.wallet.balance,this.printQrCodeCount=e.data.sellerInfo.printQrCodeCount,this.scanCount=e.data.sellerInfo.scanCount,this.fansCount=e.data.sellerInfo.fansCount,this.score=e.data.sellerInfo.score,this.wxNickname=e.data.sellerInfo.wxNickname,this.ruleForm.headImg=e.data.sellerInfo.headImg,this.ruleForm.shopName=e.data.sellerInfo.shopName,this.ruleForm.ownerName=e.data.sellerInfo.ownerName,this.ruleForm.phoneNo=e.data.sellerInfo.phoneNo,this.ruleForm.addrProvince=e.data.sellerInfo.addrProvince+"",this.ruleForm.addrCity=e.data.sellerInfo.addrCity+"",this.ruleForm.addrArea=e.data.sellerInfo.addrArea+"",this.ruleForm.addrDetail=e.data.sellerInfo.addrDetail,this.ruleForm.licenceNo=e.data.sellerInfo.licenceNo,this.ruleForm.licenceImg=e.data.sellerInfo.licenceImg,this.ruleForm.district=e.data.sellerInfo.district+"",this.ruleForm.commercial=e.data.sellerInfo.commercial+"",this.ruleForm.salesManNames=e.data.sellerInfo.salesManNames,this.ruleForm.contactName=e.data.sellerInfo.contactName,this.ruleForm.contactPhone=e.data.sellerInfo.contactPhone,this.ruleForm.status=e.data.sellerInfo.authOrg.status+"",this.getTwoCategory(),this.getThreeCategory())})},getOneCategory(){this.$request.post("/lsh/seller-manager/region/province",{},!0,e=>{this.cateLvl1List=[...e]})},selectBrand1(){this.ruleForm.addrCity="",this.cateLvl2List=[],this.ruleForm.addrArea="",this.cateLvl3List=[],this.getTwoCategory()},getTwoCategory(){""!=this.ruleForm.addrProvince&&this.$request.post("/lsh/seller-manager/region/newCity",{parentCode:this.ruleForm.addrProvince},!0,e=>{this.cateLvl2List=[...e]})},selectBrand2(){this.ruleForm.addrArea="",this.cateLvl3List=[],this.getThreeCategory()},getThreeCategory(){""!=this.ruleForm.addrCity&&this.$request.post("/lsh/seller-manager/region/newDistrict",{parentCode:this.ruleForm.addrCity},!0,e=>{this.cateLvl3List=[...e]})},submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;{let e={sellerId:this.sellerId,headImg:this.ruleForm.headImg,shopName:this.ruleForm.shopName,ownerName:this.ruleForm.ownerName,phoneNo:this.ruleForm.phoneNo,addrProvince:this.ruleForm.addrProvince,addrCity:this.ruleForm.addrCity,addrArea:this.ruleForm.addrArea,addrDetail:this.ruleForm.addrDetail,licenceNo:this.ruleForm.licenceNo,licenceImg:this.ruleForm.licenceImg,district:this.ruleForm.district,commercial:this.ruleForm.commercial,salesManNames:this.ruleForm.salesManNames,contactName:this.ruleForm.contactName,contactPhone:this.ruleForm.contactPhone,status:this.ruleForm.status};this.postParams(e)}})},postParams(e){this.$request.post("/lsh/seller-manager/seller/saveOrUpdateSeller",e,!1,e=>{e.ok?(this.$message({message:"保存成功！",type:"success"}),this.returnMgr()):this.$message({message:e.msg,type:"warning"})},e=>{})},handleAvatarSuccess(e,t){var a=e.data||{},s=a&&a.accessUrl;this.ruleForm.headImg=s},handleAvatarSuccessUrl(e,t){var a=e.data||{},s=a&&a.accessUrl;this.ruleForm.licenceImg=s},returnMgr(){this.$router.push({path:this.returnPath})},cancelModify(){this.disabled=!this.disabled,this.$refs.ruleForm.resetFields(),this.getReviewDetail()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"basic-msg-container"},[a("div",{staticClass:"basic-msg-broad"},[a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("申请时间：")]),e._v(e._s(e.applyTime))]),e._v(" "),a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("审核通过时间：")]),e._v(e._s(e.passTime))]),e._v(" "),a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("账户余额：")]),e._v("￥"+e._s(e.balance))]),e._v(" "),a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("是否打印二维码：")]),e._v(e._s(null==e.printQrCodeCount?"否":e.printQrCodeCount>0?"是":"否"))]),e._v(" "),a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("打印次数：")]),e._v(e._s(null==e.printQrCodeCount?"0":e.printQrCodeCount)+"次")]),e._v(" "),a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("扫码次数：")]),e._v(e._s(e.scanCount))]),e._v(" "),a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("店铺粉丝：")]),e._v(e._s(e.fansCount)+"人")]),e._v(" "),a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("积分：")]),e._v(e._s(e.score))]),e._v(" "),a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("微信名：")]),e._v(e._s(e.wxNickname))])]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,disabled:e.disabled,inline:!0,rules:e.rules,"label-width":"150px"}},[a("div",{staticClass:"basic-msg-form-container"},[a("el-form-item",{attrs:{label:"门店照片：",prop:"headImg",size:"small"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.ruleForm.headImg,callback:function(t){e.$set(e.ruleForm,"headImg",t)},expression:"ruleForm.headImg"}}),e._v(" "),a("el-upload",{staticClass:"product-img",attrs:{action:"/api/wiseqr/attach/commonAliUpload","list-type":"picture-card",headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.ruleForm.headImg?a("img",{staticClass:"avatar",attrs:{width:"200",height:"125",src:e.ruleForm.headImg}}):e._e()]),e._v(" "),a("div",{staticClass:"pic-tips"},[e._v("上传图片的最佳尺寸：750像素*468像素；格式png、jpg；大小不超过2M")])],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"门店名称：",prop:"shopName",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.shopName,callback:function(t){e.$set(e.ruleForm,"shopName",t)},expression:"ruleForm.shopName"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"经营人姓名：",prop:"ownerName",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.ownerName,callback:function(t){e.$set(e.ruleForm,"ownerName",t)},expression:"ruleForm.ownerName"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"经营人电话：",prop:"phoneNo",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.phoneNo,callback:function(t){e.$set(e.ruleForm,"phoneNo",t)},expression:"ruleForm.phoneNo"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"位置：",prop:"addrProvince"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand1},model:{value:e.ruleForm.addrProvince,callback:function(t){e.$set(e.ruleForm,"addrProvince",t)},expression:"ruleForm.addrProvince"}},e._l(e.cateLvl1List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrCity"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand2},model:{value:e.ruleForm.addrCity,callback:function(t){e.$set(e.ruleForm,"addrCity",t)},expression:"ruleForm.addrCity"}},e._l(e.cateLvl2List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrArea"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.addrArea,callback:function(t){e.$set(e.ruleForm,"addrArea",t)},expression:"ruleForm.addrArea "}},e._l(e.cateLvl3List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"门店地址：",prop:"addrDetail",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.addrDetail,callback:function(t){e.$set(e.ruleForm,"addrDetail",t)},expression:"ruleForm.addrDetail"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"烟草专卖证号：",prop:"licenceNo",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:e.ruleForm.licenceNo,callback:function(t){e.$set(e.ruleForm,"licenceNo",t)},expression:"ruleForm.licenceNo"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"烟草专卖证号照片：",prop:"licenceImg",size:"small"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.ruleForm.licenceImg,callback:function(t){e.$set(e.ruleForm,"licenceImg",t)},expression:"ruleForm.licenceImg"}}),e._v(" "),a("el-upload",{staticClass:"product-url",attrs:{action:"/api/wiseqr/attach/commonAliUpload","list-type":"picture-card",headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccessUrl}},[e.ruleForm.licenceImg?a("img",{staticClass:"avatar",attrs:{width:"200",height:"200",src:e.ruleForm.licenceImg}}):e._e()]),e._v(" "),a("div",{staticClass:"pic-tips"},[e._v("此图用于商品详情展示；尺寸：宽750像素；格式png、jpg；大小不超过2M")])],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",prop:"district",label:"区域"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.district,callback:function(t){e.$set(e.ruleForm,"district",t)},expression:"ruleForm.district"}},e._l(e.districtList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",prop:"commercial",label:"业态"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.commercial,callback:function(t){e.$set(e.ruleForm,"commercial",t)},expression:"ruleForm.commercial"}},e._l(e.commercialList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"业务员姓名：",prop:"salesManNames",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.salesManNames,callback:function(t){e.$set(e.ruleForm,"salesManNames",t)},expression:"ruleForm.salesManNames"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"联系人姓名：",prop:"contactName",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.contactName,callback:function(t){e.$set(e.ruleForm,"contactName",t)},expression:"ruleForm.contactName"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"联系人电话：",prop:"contactPhone",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:e.ruleForm.contactPhone,callback:function(t){e.$set(e.ruleForm,"contactPhone",t)},expression:"ruleForm.contactPhone"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"状态：",prop:"status",size:"small"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}}),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("下架")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("上架")])],1),e._v(" "),a("div")],1)]),e._v(" "),a("div",{staticClass:"basic-msg-form-bt"},[e.disabled?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.disabled=!e.disabled}}},[e._v("修改基本信息")]):e._e(),e._v(" "),e.disabled?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),e.disabled?e._e():a("el-button",{on:{click:e.cancelModify}},[e._v("取消")]),e._v(" "),e.disabled?a("el-button",{on:{click:e.returnMgr}},[e._v("返回列表")]):e._e()],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("kY2U"),a("nDB8")},"data-v-13996ed8",null).exports,i={props:["sellerId","returnPath"],name:"SellerManage",data:()=>({listLoading:!1,filters:{sortType:1,sortValue:1},fansList:[],pageSize:10,pageNo:1,currentPage:1,total:0}),created(){this.querySellerFans()},methods:{querySellerFans(e){let t={sellerId:this.sellerId,sortType:this.filters.sortType,sortValue:this.filters.sortValue,pageNo:this.pageNo,pageSize:10};e&&(t.sortType=e,1==this.filters.sortValue?this.filters.sortValue=0:this.filters.sortValue=1),this.postSearch(t)},postSearch(e){this.$request.post("/lsh/seller-manager/seller/querySellerFans",e,!1,e=>{console.log(e.data),this.fansList=e.data.list,this.total=e.data.page.count,this.pageNo=e.data.page.pageNo})},handleCurrentChange(e){this.pageNo=e,this.currentPage=e,this.querySellerFans()},returnMgr(){this.$router.push({path:this.returnPath})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"seller-manage-container"},[a("div",{staticClass:"box-container"},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters,"label-width":"90px"}},[a("el-form-item",{staticClass:"mr0",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.querySellerFans(1)}}},[e._v("按最后扫码时间")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.querySellerFans(2)}}},[e._v("按扫码次数")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.querySellerFans(3)}}},[e._v("按扫店码次数")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"box-container"},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"crm-table-wrap",attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fansList}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"openId",label:"微信openld",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scanSellerCount",label:"扫店码次数",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scanProdCount",label:"扫烟码次数",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastScanTime",label:"最后一次扫店码时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.lastScanTime).Format("yyyy-MM-dd hh:mm:ss")))])]}}])})],1)],1),e._v(" "),a("el-col",{staticClass:"footer-toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total,prev, pager, next,jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.returnMgr}},[e._v("返回列表")])],1)],1)])},staticRenderFns:[]};var n=a("VU/8")(i,o,!1,function(e){a("meY7"),a("6sim")},"data-v-79479dc2",null).exports,c={props:["sellerId","returnPath"],name:"SellerManage",data:()=>({listLoading:!1,isFxList:[{code:"",name:"全部"},{code:"0",name:"无"},{code:"1",name:"有"}],unitList:[{code:"",name:"全部"},{code:"1",name:"盒"},{code:"2",name:"条"}],filters:{unit:"",isFx:"",time:[]},newFxlist:[],pageSize:10,pageNo:1,currentPage:1,total:0}),created(){this.getNewFxlist()},methods:{getNewFxlist(){let e={sellerId:this.sellerId,unit:this.filters.unit,isFx:this.filters.isFx,startTime:this.filters.time&&this.filters.time[0]?this.filters.time[0]:"",endTime:this.filters.time&&this.filters.time[1]?this.filters.time[1]:"",pageNo:this.pageNo,pageSize:10};this.postSearch(e)},postSearch(e){this.$request.post("/lsh/seller-manager/seller/select/newFxlist",e,!1,e=>{console.log(e.data),this.newFxlist=e.data.list,this.total=e.data.page.count,this.pageNo=e.data.page.pageNo})},commitForm(){this.pageNo=1,this.currentPage=1,this.getNewFxlist()},getStatus(){this.filters.unit="",this.filters.isFx="",this.filters.time=[],this.pageNo=1,this.currentPage=1,this.getNewFxlist()},handleCurrentChange(e){this.pageNo=e,this.currentPage=e,this.getNewFxlist()},returnMgr(){this.$router.push({path:this.returnPath})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"seller-manage-container"},[a("div",{staticClass:"box-container"},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters,"label-width":"90px"}},[a("el-form-item",{attrs:{size:"small",label:"时间区间："}},[a("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"datetimerange",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"扫码单位："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.unit,callback:function(t){e.$set(e.filters,"unit",t)},expression:"filters.unit"}},e._l(e.unitList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"有无返还："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.isFx,callback:function(t){e.$set(e.filters,"isFx",t)},expression:"filters.isFx"}},e._l(e.isFxList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{staticClass:"mr0",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.commitForm}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"important",attrs:{size:"small"},on:{click:e.getStatus}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"box-container"},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"crm-table-wrap",attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.newFxlist}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"openId",label:"微信openld",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ctime",label:"扫店码时间\t"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.ctime).Format("yyyy-MM-dd hh:mm:ss")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"zjTime",label:"扫烟码时间\t"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.zjTime).Format("yyyy-MM-dd hh:mm:ss")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"扫码单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.unit?a("span",[e._v(e._s("盒"))]):2==t.row.unit?a("span",[e._v(e._s("条"))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"fxAmount",label:"返回金额",width:"120"}})],1)],1),e._v(" "),a("el-col",{staticClass:"footer-toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total,prev, pager, next,jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.returnMgr}},[e._v("返回列表")])],1)],1)])},staticRenderFns:[]};var m=a("VU/8")(c,d,!1,function(e){a("OVLT"),a("PgDl")},"data-v-3fd38d49",null).exports,u={props:["sellerId","returnPath"],name:"SellerManage",data:()=>({listLoading:!1,typeList:[{code:"",name:"全部"},{code:"1",name:"扫码返现"},{code:"2",name:"提现"}],filters:{type:"",time:[]},accountFlowList:[],pageSize:10,pageNo:1,currentPage:1,total:0}),created(){this.getAccountFlowList()},methods:{getAccountFlowList(){let e={sellerId:this.sellerId,type:this.filters.type,startTime:this.filters.time&&this.filters.time[0]?this.filters.time[0]:"",endTime:this.filters.time&&this.filters.time[1]?this.filters.time[1]:"",pageNo:this.pageNo,pageSize:10};this.postSearch(e)},postSearch(e){this.$request.post("/lsh/seller-manager/seller/accountFlow",e,!1,e=>{console.log(e.data),this.accountFlowList=e.data.list,this.total=e.data.page.count,this.pageNo=e.data.page.pageNo})},commitForm(){this.pageNo=1,this.currentPage=1,this.getAccountFlowList()},getStatus(){this.filters.type="",this.filters.time=[],this.pageNo=1,this.currentPage=1,this.getAccountFlowList()},handleCurrentChange(e){this.pageNo=e,this.currentPage=e,this.getAccountFlowList()},returnMgr(){this.$router.push({path:this.returnPath})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"seller-manage-container"},[a("div",{staticClass:"box-container"},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters,"label-width":"90px"}},[a("el-form-item",{attrs:{size:"small",label:"时间区间："}},[a("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"datetimerange",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"交易类型："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.typeList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{staticClass:"mr0",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.commitForm}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"important",attrs:{size:"small"},on:{click:e.getStatus}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"box-container"},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"crm-table-wrap",attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.accountFlowList}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"交易类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?a("span",[e._v(e._s("扫码返现"))]):2==t.row.type?a("span",[e._v(e._s("提现"))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.type?a("span",{staticStyle:{color:"red"}},[e._v("-￥"+e._s(t.row.amount))]):1==t.row.type?a("span",{staticStyle:{color:"#0c9b0d"}},[e._v("+￥"+e._s(t.row.amount))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"交易时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.time).Format("yyyy-MM-dd hh:mm:ss")))])]}}])})],1)],1),e._v(" "),a("el-col",{staticClass:"footer-toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total,prev, pager, next,jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.returnMgr}},[e._v("返回列表")])],1)],1)])},staticRenderFns:[]};var h=a("VU/8")(u,p,!1,function(e){a("wa5S"),a("5cmN")},"data-v-4cb5e9e2",null).exports,v={props:["sellerId","returnPath"],name:"SellerManage",data:()=>({listLoading:!1,awardTypeList:[{code:"",name:"全部"},{code:"1",name:"实物奖励"},{code:"3",name:"红包奖励"},{code:"6",name:"积分奖励"}],filters:{awardType:"",time:[]},scanInstoreList:[],pageSize:10,pageNo:1,currentPage:1,total:0}),created(){this.getScanInstoreList()},methods:{getScanInstoreList(){let e={sellerId:this.sellerId,awardType:this.filters.awardType,startTime:this.filters.time&&this.filters.time[0]?this.filters.time[0]:"",endTime:this.filters.time&&this.filters.time[1]?this.filters.time[1]:"",pageNo:this.pageNo,pageSize:10};this.postSearch(e)},postSearch(e){this.$request.post("/lsh/seller-manager/seller/scanInstore",e,!1,e=>{console.log(e.data),this.scanInstoreList=e.data.list,this.total=e.data.page.count,this.pageNo=e.data.page.pageNo})},commitForm(){this.pageNo=1,this.currentPage=1,this.getScanInstoreList()},getStatus(){this.filters.awardType="",this.filters.time=[],this.pageNo=1,this.currentPage=1,this.getScanInstoreList()},handleCurrentChange(e){this.pageNo=e,this.currentPage=e,this.getScanInstoreList()},returnMgr(){this.$router.push({path:this.returnPath})}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"seller-manage-container"},[a("div",{staticClass:"box-container"},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters,"label-width":"90px"}},[a("el-form-item",{attrs:{size:"small",label:"时间区间："}},[a("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"datetimerange",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"奖励类型："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.awardType,callback:function(t){e.$set(e.filters,"awardType",t)},expression:"filters.awardType"}},e._l(e.awardTypeList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{staticClass:"mr0",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.commitForm}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"important",attrs:{size:"small"},on:{click:e.getStatus}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"box-container"},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"crm-table-wrap",attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.scanInstoreList}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"品牌"}}),e._v(" "),a("el-table-column",{attrs:{prop:"snName",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"单次入库数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"award",label:"单次扫码奖励"}}),e._v(" "),a("el-table-column",{attrs:{prop:"awardType",label:"奖励类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.awardType?a("span",[e._v(e._s("实物奖励"))]):3==t.row.awardType?a("span",[e._v(e._s("红包奖励"))]):6==t.row.awardType?a("span",[e._v(e._s("积分奖励"))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ctime",label:"入库时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.ctime).Format("yyyy-MM-dd hh:mm:ss")))])]}}])})],1)],1),e._v(" "),a("el-col",{staticClass:"footer-toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total,prev, pager, next,jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.returnMgr}},[e._v("返回列表")])],1)],1)])},staticRenderFns:[]};var f={name:"SelllerDetail",props:["sellerId"],components:{SellerMsg1:l,SellerMsg2:n,SellerMsg3:m,SellerMsg4:h,SellerMsg5:a("VU/8")(v,g,!1,function(e){a("oYA0"),a("hcdX")},"data-v-14211d2a",null).exports},data:()=>({activeName:"1",returnPath:"/seller/mgr"}),methods:{handleClick(e,t){console.log(e,t)}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"seller-detail-container"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"1"}},[a("seller-msg1",{attrs:{sellerId:e.sellerId,returnPath:e.returnPath}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"店铺粉丝",name:"2"}},[a("seller-msg2",{attrs:{sellerId:e.sellerId,returnPath:e.returnPath}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"扫码返现",name:"3"}},[a("seller-msg3",{attrs:{sellerId:e.sellerId,returnPath:e.returnPath}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"账单流水",name:"4"}},[a("seller-msg4",{attrs:{sellerId:e.sellerId,returnPath:e.returnPath}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"入库明细",name:"5"}},[a("seller-msg5",{attrs:{sellerId:e.sellerId,returnPath:e.returnPath}})],1)],1)],1)},staticRenderFns:[]};var y=a("VU/8")(f,b,!1,function(e){a("shFu")},"data-v-4fc9b832",null);t.default=y.exports},"5cmN":function(e,t){},"6XGs":function(e,t){},"6sim":function(e,t){},"8yZU":function(e,t,a){"use strict";var s={props:["step"],data(){return{detail:!1,loading:!1,audStatusList:{1:"未审核",2:"审核通过",3:"审核不通过"},keyTypeList:{2:"联系人姓名",1:"门店名称",3:"手机号",4:"专卖许可证"},form:{pageNo:1,pageSize:10,step:this.step,audStatus:"1",province:"",city:"",district:"",keyType:"2",keywords:"",stime:"",etime:"",dates:[]},pagination:{total:0},provinceList:[],cityList:[],districtList:[],tableList:[],auditForm:{hisAudit:!1,show:!1,title:"",step:this.step,id:"",audStatus:"",score:"",note:""},detailForm:{id:"",ownerName:"",phoneNo:"",licenceNo:"",shopName:"",licenceImg:"",province:"",city:"",district:"",provinceName:"",cityName:"",districtName:"",detail:"",openid:"",nickname:"",step:{},imgs:[]},detailAuditRules:{audStatus:[{required:!0,message:"审核状态不能为空！",trigger:"blur"}],note:[{required:!0,validator:(e,t,a)=>t?t.length>50?a(new Error("审核不通过时理由不能超过50个字！")):void a():a(new Error("审核不通过时理由不能为空！")),trigger:"blur"}],score:[{required:!0,message:"审核状态不能为空！",trigger:"blur"}]},minScore:0,maxScore:20}},created(){2==this.step&&(this.maxScore=30),this.getRegions(1),this.list()},methods:{currentChange(e){this.list(event,e)},sizeChange(e){this.list(event,null,e)},initPagination(e){e&&(this.pagination.total=e.count)},checkScore(e){let t=e;e>this.maxScore?t=this.maxScore:e<this.minScore&&(t=this.minScore),this.auditForm.score=t,this.detail?this.$refs.scoreInput2.currentValue=t:this.$refs.scoreInput1.currentValue=t},getRegions(e,t){1==e&&(t=""),this.$request.post("/api/wiseqr/dim/regionByPCode",{parentCode:t},!0,t=>{2e5==t.ret&&(1==e?this.provinceList=t.data||[]:2==e?this.cityList=t.data||[]:3==e&&(this.districtList=t.data||[]))})},regionChange(e){1==e?(this.form.city="",this.form.district="",this.getRegions(2,this.form.province)):2==e&&(this.form.district="",this.getRegions(3,this.form.city))},resetForm(){this.form={pageNo:1,pageSize:10,step:this.step,audStatus:"1",province:"",city:"",district:"",keyType:"2",keywords:"",stime:"",etime:"",dates:[]},this.list()},list(e,t,a){let s=1;t&&(s=t),this.form.pageNo=s;let r=10;a&&(r=a),this.form.pageSize=r,this.form.dates&&2==this.form.dates.length&&(this.form.stime=this.form.dates[0]+" 00:00:00",this.form.etime=this.form.dates[1]+" 23:59:59"),this.loading=!0,this.$request.post("/api/wiseqr/seller/list",this.form,!0,e=>{this.loading=!1,2e5==e.ret?(this.tableList=e.data.list||[],this.initPagination(e.data.page||{})):this.$message.error(e.message)})},exportDatas(){let e=new XMLHttpRequest,t=new FormData;for(let e in this.form)t.append(e,this.form[e]);t.pageNo=1,t.pageSize=-1,e.overrideMimeType("text/plain; charset=x-user-defined"),e.open("POST","/api/wiseqr/seller/export",!0),e.responseType="blob",e.responseType="arraybuffer",e.setRequestHeader("token",sessionStorage.getItem("access_token")),e.setRequestHeader("loginId",sessionStorage.getItem("access_loginId")),e.onload=function(t){if(200==this.status){let t=new Blob([this.response],{type:"application/vnd.ms-excel"}),a=e.getResponseHeader("Content-Disposition"),s=decodeURI(a.match(/filename=(.*?)(;|$)/)[1]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(t,s);else{let e=document.createElement("a");e.href=window.URL.createObjectURL(t),e.download=s,e.click(),window.URL.revokeObjectURL(e.href)}}},e.send(t)},audit(e,t,a,s){this.auditForm.id=t.id,this.auditForm.audStatus=a,this.auditForm.title=s,this.auditForm.show=!0},auditFormConfirm(){if(3==this.auditForm.audStatus&&(this.auditForm.score="",this.auditForm.note&&this.auditForm.note.length>50))return this.$message.error("审核不通过的理由不能超过50个字！"),!1;let e=this;e.$request.post("/api/wiseqr/seller/audit",e.auditForm,!0,t=>{2e5==t.ret?(e.auditForm.show=!1,e.$message({type:"success",message:"审核操作成功！"}),e.list(null,e.form.pageNo,e.form.pageSize)):e.$message.error(t.message)})},resetAuditForm(e){this.auditForm.hisAudit=!1,this.auditForm.id="",this.auditForm.audStatus="",this.auditForm.score="",this.auditForm.note="",this.detail=!1,e&&this.list(null,this.form.pageNo,this.form.pageSize)},audStatusChange(){2==this.auditForm.audStatus?this.auditForm.note="":3==this.auditForm.audStatus&&(this.auditForm.score="")},seeDetail(e,t){let a=this;a.$request.post("/api/wiseqr/seller/detail",{id:t.id},!0,e=>{2e5==e.ret?(a.detailForm=e.data||{},a.auditForm.id=a.detailForm.id,1==a.auditForm.step?(a.auditForm.note=a.detailForm.step.s1Note||"",a.auditForm.score=a.detailForm.step.s1Score||"",a.auditForm.audStatus=a.detailForm.step.s1Status||""):2==a.auditForm.step&&(a.auditForm.note=a.detailForm.step.s2Note||"",a.auditForm.score=a.detailForm.step.s2Score||"",a.auditForm.audStatus=a.detailForm.step.s2Status||""),2==a.auditForm.audStatus||3==a.auditForm.audStatus?a.auditForm.hisAudit=!0:a.auditForm.audStatus=2,a.detail=!0):a.$message.error(e.message)})},saveAudit(e,t){if(2==t)return this.resetAuditForm(),!1;this.$refs[e].validate(e=>{let a=!1;if(2==this.auditForm.audStatus&&this.auditForm.score&&(a=!0),3==this.auditForm.audStatus&&this.auditForm.note&&this.auditForm.note.length<=50&&(a=!0),a){let e="/api/wiseqr/seller/audit";this.auditForm.hisAudit&&(e="/api/wiseqr/seller/mscore"),this.$request.post(e,this.auditForm,!0,e=>{2e5==e.ret?3==t&&this.resetAuditForm(!0):this.$message.error(e.message)})}})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"audit-mgr"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.detail,expression:"!detail"}],staticClass:"list"},[a("el-card",[a("el-form",{staticClass:"search-block",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{size:"small",placeholder:"全部"},model:{value:e.form.audStatus,callback:function(t){e.$set(e.form,"audStatus",t)},expression:"form.audStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.audStatusList,function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{staticClass:"input-with-select",attrs:{size:"small",placeholder:"请输入关键词"},model:{value:e.form.keywords,callback:function(t){e.$set(e.form,"keywords",t)},expression:"form.keywords"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.form.keyType,callback:function(t){e.$set(e.form,"keyType",t)},expression:"form.keyType"}},e._l(e.keyTypeList,function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"申请时间"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{size:"small",type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.dates,callback:function(t){e.$set(e.form,"dates",t)},expression:"form.dates"}})],1)]),e._v(" "),a("el-form-item",{staticClass:"pl30",attrs:{label:"位置"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:function(t){e.regionChange(1)}},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.provinceList,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})})],2),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:function(t){e.regionChange(2)}},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.cityList,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})})],2),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.form.district,callback:function(t){e.$set(e.form,"district",t)},expression:"form.district"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.districtList,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})})],2)],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.list}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.exportDatas}},[e._v("导出")])],1)],1)],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-card",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s((e.form.pageNo-1)*e.form.pageSize+t.$index+1)+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"shopName",label:"门店名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownerName",label:"联系人姓名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNo",label:"联系人电话",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{label:"位置",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.row.provinceName)+e._s(t.row.cityName)+e._s(t.row.districtName)+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"申请时间",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.step?a("span",[e._v(e._s(new Date(t.row.step.s1ApplyTime).Format("yyyy-MM-dd hh:mm:ss")))]):e._e(),e._v(" "),2==e.step?a("span",[e._v(e._s(new Date(t.row.step.s2ApplyTime).Format("yyyy-MM-dd hh:mm:ss")))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"分数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.step?a("span",[e._v(e._s(t.row.step.s1Score))]):e._e(),e._v(" "),2==e.step?a("span",[e._v(e._s(t.row.step.s2Score))]):e._e()]}}])}),e._v(" "),2==e.step?a("el-table-column",{attrs:{label:"总分数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.step.totalScore))])]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.step?a("span",[e._v(e._s(t.row.step.s1StatusName))]):e._e(),e._v(" "),2==e.step?a("span",[e._v(e._s(t.row.step.s2StatusName))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.seeDetail(t.$index,t.row)}}},[e._v("查看详情")]),e._v(" "),1==e.step&&1==t.row.step.s1Status||2==e.step&&1==t.row.step.s2Status?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.audit(t.$index,t.row,2,"审核通过")}}},[e._v("审核通过")]):e._e(),e._v(" "),1==e.step&&1==t.row.step.s1Status||2==e.step&&1==t.row.step.s2Status?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.audit(t.$index,t.row,3,"请输入不通过理由")}}},[e._v("审核不通过")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.form.pageNo,"page-size":e.form.pageSize,total:e.pagination.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),a("el-dialog",{attrs:{center:"",title:e.auditForm.title,visible:e.auditForm.show,width:"30%"},on:{"update:visible":function(t){e.$set(e.auditForm,"show",t)},closed:e.resetAuditForm}},[a("div",[a("el-form",{staticClass:"search-block"},[a("el-input",{attrs:{type:"hidden"},model:{value:e.auditForm.id,callback:function(t){e.$set(e.auditForm,"id",t)},expression:"auditForm.id"}}),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.auditForm.audStatus,expression:"auditForm.audStatus==2"}],attrs:{label:"得分"}},[a("el-input",{ref:"scoreInput1",staticClass:"audit-score",attrs:{size:"small",type:"number",placeholder:"请输入["+e.minScore+"-"+e.maxScore+"]之间的正整数"},on:{input:e.checkScore},model:{value:e.auditForm.score,callback:function(t){e.$set(e.auditForm,"score",t)},expression:"auditForm.score"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.auditForm.audStatus,expression:"auditForm.audStatus==3"}],attrs:{label:""}},[a("el-input",{attrs:{size:"small",type:"textarea",rows:5,placeholder:"请输入不超过50字的内容"},model:{value:e.auditForm.note,callback:function(t){e.$set(e.auditForm,"note",t)},expression:"auditForm.note"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.auditFormConfirm}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.auditForm.show=!1}}},[e._v("取 消")])],1)])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.detail,expression:"detail"}],staticClass:"detail"},[a("el-card",[a("table",{staticClass:"detail-info-table",attrs:{width:"100%",border:"0"}},[a("tr",[a("td",{attrs:{width:"35%"}},[a("label",[e._v("初次申请时间：")]),e._v(" "),e.detailForm.step.s1ApplyTime?a("span",[e._v(e._s(new Date(e.detailForm.step.s1ApplyTime).Format("yyyy-MM-dd hh:mm:ss")))]):e._e()]),e._v(" "),a("td",{attrs:{width:"35%"}},[a("label",[e._v("初审时间：")]),e._v(" "),e.detailForm.step.s1AudTime?a("span",[e._v(e._s(new Date(e.detailForm.step.s1AudTime).Format("yyyy-MM-dd hh:mm:ss")))]):e._e()]),e._v(" "),a("td",[a("label",[e._v("得分：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.step.s1Score))])])]),e._v(" "),a("tr",[a("td",[a("label",[e._v("联系人姓名：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.ownerName))])]),e._v(" "),a("td",[a("label",[e._v("联系人微信：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.nickname))])]),e._v(" "),a("td",{attrs:{rowspan:"4",valign:"top"}},[a("label",{staticClass:"multi-span"},[e._v("烟草许可证照片：")]),e._v(" "),a("el-popover",{attrs:{placement:"right",trigger:"click"}},[a("img",{staticClass:"popover-img",attrs:{src:e.detailForm.licenceImg}}),e._v(" "),a("img",{staticClass:"licence-img",attrs:{slot:"reference",src:e.detailForm.licenceImg},slot:"reference"})])],1)]),e._v(" "),a("tr",[a("td",[a("label",[e._v("联系人电话：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.phoneNo))])]),e._v(" "),a("td",[a("label",[e._v("门店名称：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.shopName))])])]),e._v(" "),a("tr",[a("td",[a("label",[e._v("位置：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.provinceName)+e._s(e.detailForm.cityName)+e._s(e.detailForm.districtName))])]),e._v(" "),a("td",[a("label",[e._v("烟草专卖证号：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.licenceNo))])])]),e._v(" "),a("tr",[a("td",[a("label",[e._v("详细地址：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.detail))])]),e._v(" "),a("td",[a("label",[e._v("业态：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.commercialName))])])])])]),e._v(" "),a("div",{staticClass:"space10"}),e._v(" "),2==e.step?a("el-card",[a("table",{staticClass:"detail-info-table detail-step2",attrs:{width:"100%",border:"0"}},[a("tr",[a("td",{attrs:{width:"35%"}},[a("label",[e._v("二次申请时间：")]),e._v(" "),e.detailForm.step.s2ApplyTime?a("span",[e._v(e._s(new Date(e.detailForm.step.s2ApplyTime).Format("yyyy-MM-dd hh:mm:ss")))]):e._e()]),e._v(" "),a("td",{attrs:{width:"35%"}},[a("label",[e._v("终审时间：")]),e._v(" "),e.detailForm.step.s2AudTime?a("span",[e._v(e._s(new Date(e.detailForm.step.s2AudTime).Format("yyyy-MM-dd hh:mm:ss")))]):e._e()]),e._v(" "),a("td",[a("label",[e._v("得分：")]),e._v(" "),a("span",[e._v(e._s(e.detailForm.step.s2Score))])])]),e._v(" "),a("tr",{attrs:{height:"180"}},[a("td",{attrs:{colspan:"3"}},[a("label",{staticClass:"img-label"},[e._v("店面照片：")]),e._v(" "),a("div",e._l(e.detailForm.imgs,function(t){return a("el-popover",{key:t.id,attrs:{placement:"top-start",trigger:"click"}},[a("img",{staticClass:"popover-img",attrs:{src:t.imgUrl}}),e._v(" "),1==t.type?a("img",{attrs:{slot:"reference",src:t.imgUrl},slot:"reference"}):e._e()])}))])]),e._v(" "),a("tr",{attrs:{height:"180"}},[a("td",{attrs:{colspan:"3"}},[a("label",{staticClass:"img-label"},[e._v("陈列照片：")]),e._v(" "),a("div",e._l(e.detailForm.imgs,function(t){return a("el-popover",{key:t.id,attrs:{placement:"top-start",trigger:"click"}},[a("img",{staticClass:"popover-img",attrs:{src:t.imgUrl}}),e._v(" "),2==t.type?a("img",{attrs:{slot:"reference",src:t.imgUrl},slot:"reference"}):e._e()])}))])]),e._v(" "),a("tr",{attrs:{height:"180"}},[a("td",{attrs:{colspan:"3"}},[a("label",{staticClass:"img-label"},[e._v("烟品订单照片：")]),e._v(" "),a("div",e._l(e.detailForm.imgs,function(t){return a("el-popover",{key:t.id,attrs:{placement:"top-start",trigger:"click"}},[a("img",{staticClass:"popover-img",attrs:{src:t.imgUrl}}),e._v(" "),3==t.type?a("img",{attrs:{slot:"reference",src:t.imgUrl},slot:"reference"}):e._e()])}))])])])]):e._e(),e._v(" "),a("div",{staticClass:"space10"}),e._v(" "),a("el-card",[a("el-form",{ref:"auditForm",staticClass:"detail-audit-block",attrs:{model:e.auditForm,rules:e.detailAuditRules,"label-width":"100px"}},[a("el-input",{attrs:{type:"hidden"},model:{value:e.auditForm.id,callback:function(t){e.$set(e.auditForm,"id",t)},expression:"auditForm.id"}}),e._v(" "),a("el-form-item",{attrs:{label:"审核状态",prop:"audStatus"}},[a("el-radio",{attrs:{label:2,disabled:e.auditForm.hisAudit},on:{change:e.audStatusChange},model:{value:e.auditForm.audStatus,callback:function(t){e.$set(e.auditForm,"audStatus",t)},expression:"auditForm.audStatus"}},[e._v("审核通过")]),e._v(" "),a("el-radio",{attrs:{label:3,disabled:e.auditForm.hisAudit},on:{change:e.audStatusChange},model:{value:e.auditForm.audStatus,callback:function(t){e.$set(e.auditForm,"audStatus",t)},expression:"auditForm.audStatus"}},[e._v("审核不通过")])],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.auditForm.audStatus,expression:"auditForm.audStatus==3"}],attrs:{label:"",prop:"note"}},[a("el-input",{attrs:{size:"small",type:"textarea",rows:5,disabled:e.auditForm.hisAudit,placeholder:"请输入不超过50字的内容"},model:{value:e.auditForm.note,callback:function(t){e.$set(e.auditForm,"note",t)},expression:"auditForm.note"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.auditForm.audStatus,expression:"auditForm.audStatus==2"}],attrs:{label:"得分"}},[a("el-input",{ref:"scoreInput2",staticClass:"audit-score",attrs:{size:"small",type:"number",placeholder:"请输入["+e.minScore+"-"+e.maxScore+"]之间的正整数"},on:{input:e.checkScore},model:{value:e.auditForm.score,callback:function(t){e.$set(e.auditForm,"score",t)},expression:"auditForm.score"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.saveAudit("auditForm",2)}}},[e._v("退出")]),e._v(" "),e.auditForm.hisAudit&&2!=e.auditForm.audStatus?e._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.saveAudit("auditForm",3)}}},[e._v("保存并退出")])],1)],1)],1)],1)])},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("oldZ")},"data-v-774518ba",null);t.a=l.exports},"9MSY":function(e,t){},AMdV:function(e,t){},AjDu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"Reviewmanage",data:()=>({listLoading:!1,statusList:[{code:"",name:"全部"},{code:"1",name:"未审核"},{code:"2",name:"已到账"},{code:"3",name:"申请失败"}],cateLvl1List:[],cateLvl2List:[],cateLvl3List:[],filters:{status:"1",searchType:"",keywords:"",time:[],addrProvince:"",addrCity:"",addrArea:""},TxList:[],pageSize:10,pageNo:1,currentPage:1,total:0,dialogVisible:!1,failReason:"",txId:""}),created(){this.getListTx(),this.getOneCategory()},methods:{getOneCategory(){this.$request.post("/lsh/seller-manager/region/province",{},!0,e=>{this.cateLvl1List=[...e]})},selectBrand1(){this.filters.addrCity="",this.cateLvl2List=[],this.filters.addrArea="",this.cateLvl3List=[],this.getTwoCategory()},getTwoCategory(){""!=this.filters.addrProvince&&this.$request.post("/lsh/seller-manager/region/newCity",{parentCode:this.filters.addrProvince},!0,e=>{this.cateLvl2List=[...e]})},selectBrand2(){this.filters.addrArea="",this.cateLvl3List=[],this.getThreeCategory()},getThreeCategory(){""!=this.filters.addrCity&&this.$request.post("/lsh/seller-manager/region/newDistrict",{parentCode:this.filters.addrCity},!0,e=>{this.cateLvl3List=[...e]})},getListTx(){let e={status:this.filters.status,searchType:this.filters.searchType,keywords:this.filters.keywords,addrProvince:this.filters.addrProvince,addrCity:this.filters.addrCity,addrArea:this.filters.addrArea,stime:this.filters.time&&this.filters.time[0]?this.filters.time[0]:"",etime:this.filters.time&&this.filters.time[1]?this.filters.time[1]:"",pageNo:this.pageNo,pageSize:10};this.postSearch(e)},postSearch(e){this.$request.post("/lsh/seller-manager/seller/txList",e,!1,e=>{console.log(e.data),this.TxList=e.data.list,this.total=e.data.page.count,this.pageNo=e.data.page.pageNo})},commitForm(){this.pageNo=1,this.currentPage=1,this.getListTx()},getStatus(){this.filters.status="1",this.filters.searchType="",this.filters.keywords="",this.filters.time=[],this.filters.addrProvince="",this.filters.addrCity="",this.filters.addrArea="",this.pageNo=1,this.currentPage=1,this.getListTx()},inputWithSelectChange(e){this.filters.keywords=""},approval(e){let t={txId:e,authResult:1};this.$confirm("您确定为此账户转账？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request.post("/lsh/seller-manager/seller/txAuth",t,!1,e=>{e.ok?(this.$message({message:"操作成功！",type:"success"}),this.getListTx()):(console.log(e),this.$message({message:e.msg,type:"warning"}))})})},disapprovalDialog(e){this.dialogVisible=!0,this.txId=e},disapproval(){let e={txId:this.txId,authResult:0,authDesc:this.failReason};this.$confirm("您确定审核不通过？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request.post("/lsh/seller-manager/seller/txAuth",e,!1,e=>{e.ok?(this.$message({message:"操作成功！",type:"success"}),this.dialogVisible=!1,this.failReason="",this.getListTx()):(console.log(e),this.$message({message:e.msg,type:"warning"}),this.dialogVisible=!1,this.failReason="",this.getListTx())})})},cancelDialog(){this.dialogVisible=!1,this.failReason=""},sellerDetail(e){this.$router.push({path:"/seller/tx/sellerDetail?sellerId="+e})},jumpTo(){this.$emit("current-change")},handleCurrentChange(e){this.pageNo=e,this.currentPage=e,this.getListTx()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"amount-examine-container"},[a("div",{staticClass:"box-container"},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters,"label-width":"80px"}},[a("el-form-item",{attrs:{size:"small",label:"订单状态"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"关键词"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:e.filters.keywords,callback:function(t){e.$set(e.filters,"keywords",t)},expression:"filters.keywords"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.inputWithSelectChange},slot:"prepend",model:{value:e.filters.searchType,callback:function(t){e.$set(e.filters,"searchType",t)},expression:"filters.searchType"}},[a("el-option",{attrs:{label:"联系人名称",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"联系人电话",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"门店名称",value:"4"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"时间区间"}},[a("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"datetimerange",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"位置：",prop:"addrProvince"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand1},model:{value:e.filters.addrProvince,callback:function(t){e.$set(e.filters,"addrProvince",t)},expression:"filters.addrProvince"}},e._l(e.cateLvl1List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrCity"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand2},model:{value:e.filters.addrCity,callback:function(t){e.$set(e.filters,"addrCity",t)},expression:"filters.addrCity"}},e._l(e.cateLvl2List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrArea"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},model:{value:e.filters.addrArea,callback:function(t){e.$set(e.filters,"addrArea",t)},expression:"filters.addrArea "}},e._l(e.cateLvl3List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{staticClass:"mr0",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.commitForm}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"important",attrs:{size:"small"},on:{click:e.getStatus}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"box-container"},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"crm-table-wrap",attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.TxList}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sellerInfo.shopName",label:"门店名称\t",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sellerInfo.ownerName",label:"联系人姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sellerInfo.phoneNo",label:"联系人电话",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"账户余额",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"txAmount",label:"提现金额",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(t.row.txAmount))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"txTime",label:"申请时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.txTime).Format("yyyy-MM-dd hh:mm:ss")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"txTime",label:"到账时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"authStatus",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.status?a("span",[e._v(e._s("未审核"))]):"2"==t.row.status?a("span",[e._v(e._s("已到账"))]):"3"==t.row.status?a("span",[e._v(e._s("申请失败"))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.sellerDetail(t.row.sellerId)}}},[e._v("查看详情")]),e._v(" "),a("el-button",{attrs:{disabled:1!==t.row.status,type:"text",size:"mini"},on:{click:function(a){e.disapprovalDialog(t.row.id)}}},[e._v("审核不通过")]),e._v(" "),a("el-button",{attrs:{disabled:1!==t.row.status,type:"text",size:"mini"},on:{click:function(a){e.approval(t.row.id)}}},[e._v("审核通过")])]}}])})],1)],1),e._v(" "),a("el-col",{staticClass:"footer-toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total,prev, pager, next,jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"请输入不通过理由",visible:e.dialogVisible,width:"30%","before-close":e.cancelDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.failReason,callback:function(t){e.failReason=t},expression:"failReason"}}),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[a("el-button",{attrs:{size:"small"},on:{click:e.cancelDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.disapproval}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("VSRx"),a("AMdV")},"data-v-56f5223e",null);t.default=l.exports},BNOJ:function(e,t){},FDp4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{mgr:a("8yZU").a},data:()=>({step:1})},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("mgr",{attrs:{step:this.step}})],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("a8AA")},null,null);t.default=l.exports},IDKc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data(){var e=(e,t,a)=>{this.dataForm.stimeStr&&this.dataForm.etimeStr?this.dataForm.stimeStr>=this.dataForm.etimeStr?a(new Error("活动开始时间必须小于活动结束时间！")):a():a(new Error("活动时间不能为空！"))};return{loading:!1,business:1,requesting:!0,form:{pageNo:1,pageSize:10,periodName:"",status:"",achievementType:""},pagination:{total:0},tableList:[],dataForm:{id:"",periodName:"",achievementType:1,ruleHtml:"",datetime:[],stimeStr:"",etimeStr:"",templateId:"",topNum:"100",awards:[]},dataRules:{periodName:[{required:!0,message:"请输入活动名称",trigger:"blur"}],achievementType:[{required:!0,message:"请选择活动类型",trigger:"blur"}],periodName:[{required:!0,message:"请输入活动名称",trigger:"blur"}],ruleHtml:[{required:!0,message:"请输入活动规则",trigger:"blur"}],stimeStr:[{required:!0,validator:e,trigger:"blur"}],etimeStr:[{required:!0,validator:e,trigger:"blur"}],templateId:[{required:!0,message:"请输入微信消息模板ID",trigger:"blur"}]},awardConfList:[],rankForm:{pageNo:1,pageSize:10,periodId:"",rankSection:"",shopName:""},canPay:!1,canExport:!0,tableRankList:[],tplMsgForm:{show:!1,first:"",keyword1:"",keyword2:"",remark:"",templateUrl:"",sendScope:2},tplMsgRules:{sendScope:[{required:!0,message:"发送范围不能为空",trigger:"blur"}],first:[{required:!0,message:"头部内容不能为空",trigger:"blur"}],keyword1:[{required:!0,message:"活动名称不能为空",trigger:"blur"}],keyword2:[{required:!0,message:"完成时间不能为空",trigger:"blur"}],remark:[{required:!0,message:"底部内容不能为空",trigger:"blur"}]},sendMsg:!1}},created(){this.list()},methods:{currentChange(e){1==this.business?this.list(event,e):3==this.business&&this.listRank(event,e)},sizeChange(e){1==this.business?this.list(event,null,e):3==this.business&&this.listRank(event,null,e)},initPagination(e){e&&(this.pagination.total=e.count)},resetForm(){this.form={pageNo:1,pageSize:10,periodName:"",status:"",achievementType:""},this.list()},list(e,t,a){let s=1;t&&(s=t),this.form.pageNo=s;let r=10;a&&(r=a),this.form.pageSize=r,this.loading=!0,this.$request.post("/lsh/seller-manager/achieve/queryList",this.form,!0,e=>{this.loading=!1,e.ok?(this.tableList=e.data.list||[],this.initPagination(e.data.page||{})):this.$message.error(e.msg)})},seeRank(e,t){this.rankForm.periodId=t.id,this.periodAwardList(),this.listRank(),this.judgePay(),this.business=3},confDetail(e,t){this.getConfDetail(t.id)},seeSellerDetail(e,t){this.$router.push({path:"/seller/mgr/sellerDetail?sellerId="+t.sellerId})},goTable(){this.list(),this.business=1,this.resetRandForm(!1)},getConfDetail(e){this.$request.post("/lsh/seller-manager/achieve/configDetail",{periodId:e},!0,e=>{e.ok?(this.business=2,this.dataForm=e.data||{},this.$set(this.dataForm,"datetime",[this.dataForm.stimeStr,this.dataForm.etimeStr])):this.$message.error(e.msg)})},addAwardItem(){let e={id:"",periodId:"",awardType:3,rankStart:"",rankEnd:"",awardName:"",awardPrice:""};e.key=(new Date).Format("yyyyMMddhhmmssS")+Math.random(),this.dataForm.awards.push(e)},removeAwardItem(){let e=this.dataForm.awards;e.length>0&&e.splice(e.length-1,1)},submitForm(e){let t=this.dataForm.awards;if(0==t.length)return this.$message.error("奖项设置内容不能为空！"),!1;for(let e=0;e<t.length;e++){let a=t[e];if(!a.rankStart||!a.rankEnd||a.rankStart<1||a.rankEnd<1)return this.$message.error("第"+(e+1)+"行奖项设置中名次不能为空并且必须大于0！"),!1;if(!a.awardName)return this.$message.error("第"+(e+1)+"行奖项设置中奖项名称不能为空！"),!1;if(!a.awardPrice||a.awardPrice<=0)return this.$message.error("第"+(e+1)+"行奖项设置中市场价不能为空并且必须大于0！"),!1;a.periodId=this.dataForm.id}this.$refs[e].validate(e=>{e&&this.$request.post("/lsh/seller-manager/achieve/saveOrModify",this.dataForm,!0,e=>{e.ok?(this.$message({type:"success",message:"数据保存成功！"}),this.business=1,this.list()):this.$message.error(e.msg)})})},cancelForm(){this.dataForm={id:"",periodName:"",achievementType:1,ruleHtml:"",datetime:[],stimeStr:"",etimeStr:"",templateId:"",topNum:"100",awards:[]},this.business=1,this.$refs.dataForm.clearValidate()},periodAwardList(){this.$request.post("/lsh/seller-manager/achieve/queryAwardList",{periodId:this.rankForm.periodId},!0,e=>{e.ok?this.awardConfList=e.data||[]:this.$message.error(e.msg)})},listRank(e,t,a){let s=1;t&&(s=t),this.rankForm.pageNo=s;let r=10;a&&(r=a),this.rankForm.pageSize=r,this.loading=!0,this.$request.post("/lsh/seller-manager/achieve/periodResultList",this.rankForm,!0,e=>{this.loading=!1,e.ok?(this.tableRankList=e.data.list||[],this.canExport=0!=this.tableRankList.length,this.initPagination(e.data.page||{})):this.$message.error(e.msg)})},resetRandForm(e){this.rankForm={pageNo:1,pageSize:10,periodId:"",rankSection:"",shopName:""},!0===e&&this.listRank()},exportDatas(){let e=new XMLHttpRequest,t=new FormData;for(let e in this.rankForm)t.append(e,this.rankForm[e]);e.overrideMimeType("text/plain; charset=x-user-defined"),e.open("POST","/lsh/seller-manager/achieve/exportPeriodResult",!0),e.responseType="blob",e.responseType="arraybuffer",e.setRequestHeader("token",sessionStorage.getItem("access_token")),e.setRequestHeader("loginId",sessionStorage.getItem("access_loginId")),e.onload=function(t){if(200==this.status){let t=new Blob([this.response],{type:"application/vnd.ms-excel"}),a=e.getResponseHeader("Content-Disposition"),s=decodeURI(a.match(/filename=(.*?)(;|$)/)[1]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(t,s);else{let e=document.createElement("a");e.href=window.URL.createObjectURL(t),e.download=s,e.click(),window.URL.revokeObjectURL(e.href)}}},e.send(t)},judgePay(){this.$request.post("/lsh/seller-manager/achieve/judgePay",{periodId:this.rankForm.periodId},!0,e=>{e.ok?this.canPay=!0:this.canPay=!1})},sendRankPay(){if(!this.canPay)return this.$message.error("暂不允许派发现金奖励！"),!1;this.$confirm("确认要进行派发奖项吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.canPay=!1,this.$request.post("/lsh/seller-manager/achieve/payAchievement",{periodId:this.rankForm.periodId},!0,e=>{e.ok?(this.canPay=!1,this.listRank(),this.$message({type:"success",message:"操作成功！"})):(this.canPay=!0,this.$message.error(e.msg))})}).catch(()=>{})},openTplMsg(){this.tplMsgForm.show=!0},resetTplMsgForm(){this.tplMsgForm={show:!1,show:!1,first:"",keyword1:"",keyword2:"",remark:"",templateUrl:"",sendScope:2},this.$refs.tplMsgForm.clearValidate()},confirmSendMsg(e){if(this.sendMsg)return this.$message.error("发送模板消息请求已发出，请勿重复操作！"),!1;this.$refs[e].validate(e=>{if(e){this.sendMsg=!0;let e={wxTemplateParams:{first:this.tplMsgForm.first,keyword1:this.tplMsgForm.keyword1,keyword2:this.tplMsgForm.keyword2,remark:this.tplMsgForm.remark,templateUrl:this.tplMsgForm.templateUrl},achieveParams:{sendScope:this.tplMsgForm.sendScope,periodId:this.rankForm.periodId}};this.$request.post("/lsh/seller-manager/achieve/sendWechatTemplate",e,!0,e=>{this.sendMsg=!1,e.ok?(this.tplMsgForm.show=!1,this.$message({type:"success",message:e.data})):this.$message.error(e.msg)})}})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.business,expression:"business==1"}]},[a("el-card",[a("el-row",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.business=2}}},[e._v("新建")])],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-form",{staticClass:"search-block",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"活动名称"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入活动名称"},model:{value:e.form.periodName,callback:function(t){e.$set(e.form,"periodName",t)},expression:"form.periodName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{size:"small",placeholder:"全部"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"待上线",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"进行中",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已结束",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"活动类型"}},[a("el-select",{attrs:{size:"small",placeholder:"全部"},model:{value:e.form.achievementType,callback:function(t){e.$set(e.form,"achievementType",t)},expression:"form.achievementType"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"累计排行榜",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"拉新排行榜",value:"2"}})],1)],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.list}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-card",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s((e.form.pageNo-1)*e.form.pageSize+t.$index+1)+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"periodName",label:"活动姓名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"achievementTypeName",label:"活动类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusName",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"活动时间",align:"center",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.row.stimeStr)+" -- "+e._s(t.row.etimeStr)+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.seeRank(t.$index,t.row)}}},[e._v("查看排名")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.confDetail(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.form.pageNo,"page-size":e.form.pageSize,total:e.pagination.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.business,expression:"business==2"}]},[a("el-card",[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"活动名称",prop:"periodName"}},[a("el-input",{attrs:{size:"small"},model:{value:e.dataForm.periodName,callback:function(t){e.$set(e.dataForm,"periodName",t)},expression:"dataForm.periodName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动类型",prop:"achievementType"}},[a("el-radio",{attrs:{size:"small",label:1},model:{value:e.dataForm.achievementType,callback:function(t){e.$set(e.dataForm,"achievementType",t)},expression:"dataForm.achievementType"}},[e._v("累计排行榜")]),e._v(" "),a("el-radio",{attrs:{size:"small",label:2},model:{value:e.dataForm.achievementType,callback:function(t){e.$set(e.dataForm,"achievementType",t)},expression:"dataForm.achievementType"}},[e._v("拉新排行榜")]),e._v(" "),a("p",{staticClass:"form-note"},[e._v("\n                        提示：累积排行榜为零售户在活动时间内所有店铺粉丝的扫烟包量；"),a("br"),e._v(" "),a("span",{staticClass:"pl36"},[e._v("拉新排行榜为零售户在活动时间内新增粉丝的扫码烟包量，不含活动之前粉丝的扫码烟包数。")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"活动时间",prop:"stimeStr"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始日期"},model:{value:e.dataForm.stimeStr,callback:function(t){e.$set(e.dataForm,"stimeStr",t)},expression:"dataForm.stimeStr"}}),e._v("\n                    至\n                    "),a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束日期"},model:{value:e.dataForm.etimeStr,callback:function(t){e.$set(e.dataForm,"etimeStr",t)},expression:"dataForm.etimeStr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动规则",prop:"ruleHtml"}},[a("el-input",{attrs:{size:"small",type:"textarea",rows:10,placeholder:"请输入内容"},model:{value:e.dataForm.ruleHtml,callback:function(t){e.$set(e.dataForm,"ruleHtml",t)},expression:"dataForm.ruleHtml"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信消息模板ID",prop:"templateId"}},[a("el-input",{attrs:{size:"small"},model:{value:e.dataForm.templateId,callback:function(t){e.$set(e.dataForm,"templateId",t)},expression:"dataForm.templateId"}}),e._v(" "),a("p",{staticClass:"form-note"},[e._v("\n                        提示：微信消息模板ID为对应公众号给零售户发送消息模板的ID，通过后台向零售户发送微信模板消息，公号必须添加此模板。"),a("br"),e._v(" "),a("span",{staticClass:"pl36"},[e._v("模板ID举例：cmtrt_o4nyw5XZXxuCLUstPtNei2DzvYk-4uGZX5ldo")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"奖品设置"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addAwardItem}},[e._v("增加奖项")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.removeAwardItem}},[e._v("删除奖项")]),e._v(" "),a("table",{staticClass:"award-table",attrs:{border:"1"}},[a("thead",[a("td",[e._v("名次")]),e._v(" "),a("td",[e._v("奖品名称")]),e._v(" "),a("td",[e._v("市场价（元）")])]),e._v(" "),e._l(e.dataForm.awards,function(t){return a("tr",{key:t.key},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"item.id"}],attrs:{type:"hidden"},domProps:{value:t.id},on:{input:function(a){a.target.composing||e.$set(t,"id",a.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.rankStart,expression:"item.rankStart"}],staticClass:"one-cell-two",attrs:{type:"number"},domProps:{value:t.rankStart},on:{input:function(a){a.target.composing||e.$set(t,"rankStart",a.target.value)}}}),e._v("\n                                -\n                                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.rankEnd,expression:"item.rankEnd"}],staticClass:"one-cell-two",attrs:{type:"number"},domProps:{value:t.rankEnd},on:{input:function(a){a.target.composing||e.$set(t,"rankEnd",a.target.value)}}})]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.awardName,expression:"item.awardName"}],attrs:{type:"text"},domProps:{value:t.awardName},on:{input:function(a){a.target.composing||e.$set(t,"awardName",a.target.value)}}})]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.awardPrice,expression:"item.awardPrice"}],attrs:{type:"number"},domProps:{value:t.awardPrice},on:{input:function(a){a.target.composing||e.$set(t,"awardPrice",a.target.value)}}})])])})],2)],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.submitForm("dataForm")}}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.cancelForm}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.business,expression:"business==3"}]},[a("el-card",[a("el-row",[a("el-button",{attrs:{type:"text"},on:{click:e.goTable}},[e._v("返回")])],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-form",{staticClass:"search-block",attrs:{inline:!0,model:e.rankForm}},[a("el-form-item",{attrs:{label:"名次"}},[a("el-select",{attrs:{size:"small",placeholder:"全部"},model:{value:e.rankForm.rankSection,callback:function(t){e.$set(e.rankForm,"rankSection",t)},expression:"rankForm.rankSection"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.awardConfList,function(e){return a("el-option",{key:e.id,attrs:{label:e.rankStart+"-"+e.rankEnd,value:e.rankStart+"-"+e.rankEnd}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入门店名称"},model:{value:e.rankForm.shopName,callback:function(t){e.$set(e.rankForm,"shopName",t)},expression:"rankForm.shopName"}})],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.listRank}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.resetRandForm(!0)}}},[e._v("重置")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.openTplMsg}},[e._v("发送模板消息")]),e._v(" "),a("el-button",{attrs:{size:"small",type:e.canPay?"primary":"",disabled:!e.canPay},on:{click:e.sendRankPay}},[e._v("派发现金奖励")]),e._v(" "),a("el-button",{attrs:{size:"small",type:e.canExport?"primary":"",disabled:!e.canExport},on:{click:e.exportDatas}},[e._v("导出中奖名单")])],1)],1)],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-card",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableRankList}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s((e.form.pageNo-1)*e.form.pageSize+t.$index+1)+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"idx",label:"名次",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shopName",label:"门店名称",align:"center",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownerName",label:"联系人",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNo",label:"联系人电话",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"licenceNo",label:"许可证号",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"门店地区",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.row.addrProvinceName)+e._s(t.row.addrCityName)+e._s(t.row.addrAreaName)+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"addrDetail",label:"门店地址",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"achieveNum",label:"扫码业绩",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"awardName",label:"奖品",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"市场价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        ￥ "+e._s(t.row.price)+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"payStatusName",label:"派奖状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.seeSellerDetail(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.form.pageNo,"page-size":e.form.pageSize,total:e.pagination.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{center:"",title:"模板消息编辑",visible:e.tplMsgForm.show,width:"60%"},on:{"update:visible":function(t){e.$set(e.tplMsgForm,"show",t)},closed:e.resetTplMsgForm}},[a("div",[a("el-form",{ref:"tplMsgForm",staticClass:"tplM-msg-block",attrs:{rules:e.tplMsgRules,model:e.tplMsgForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"头部内容",prop:"first"}},[a("el-input",{attrs:{size:"small",type:"textarea",placeholder:"请输入顶部描述"},model:{value:e.tplMsgForm.first,callback:function(t){e.$set(e.tplMsgForm,"first",t)},expression:"tplMsgForm.first"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动名称",prop:"keyword1"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入活动名称"},model:{value:e.tplMsgForm.keyword1,callback:function(t){e.$set(e.tplMsgForm,"keyword1",t)},expression:"tplMsgForm.keyword1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"完成时间",prop:"keyword2"}},[a("el-input",{attrs:{size:"small",placeholder:"例如：2019年01月01日-2019年01月31日"},model:{value:e.tplMsgForm.keyword2,callback:function(t){e.$set(e.tplMsgForm,"keyword2",t)},expression:"tplMsgForm.keyword2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"底部内容",prop:"remark"}},[a("el-input",{attrs:{size:"small",type:"textarea",placeholder:"请输入底部描述"},model:{value:e.tplMsgForm.remark,callback:function(t){e.$set(e.tplMsgForm,"remark",t)},expression:"tplMsgForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发送范围",prop:"sendScope"}},[a("el-radio",{attrs:{label:1},model:{value:e.tplMsgForm.sendScope,callback:function(t){e.$set(e.tplMsgForm,"sendScope",t)},expression:"tplMsgForm.sendScope"}},[e._v("所有零售户")]),e._v(" "),a("el-radio",{attrs:{label:2},model:{value:e.tplMsgForm.sendScope,callback:function(t){e.$set(e.tplMsgForm,"sendScope",t)},expression:"tplMsgForm.sendScope"}},[e._v("中奖零售户")])],1),e._v(" "),a("el-form-item",{attrs:{label:"链接地址"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入此消息跳转链接。如无跳转功能，此项为空"},model:{value:e.tplMsgForm.templateUrl,callback:function(t){e.$set(e.tplMsgForm,"templateUrl",t)},expression:"tplMsgForm.templateUrl"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.confirmSendMsg("tplMsgForm")}}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.resetTplMsgForm}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("6XGs")},"data-v-13fbd907",null);t.default=l.exports},Lba7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{mgr:a("8yZU").a},data:()=>({step:2})},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("mgr",{attrs:{step:this.step}})],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("bKQh")},null,null);t.default=l.exports},Luaj:function(e,t){},OVLT:function(e,t){},Ooxo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={props:["sellerId","returnPath"],name:"",data:()=>({disabled:!0,headers:{loginId:sessionStorage.getItem("access_loginId"),token:sessionStorage.getItem("access_token")},commercialList:[{code:"",name:"全部"},{code:"1",name:"食杂店"},{code:"2",name:"便利店"},{code:"3",name:"超市"},{code:"4",name:"商场"},{code:"5",name:"烟酒商店"},{code:"6",name:"娱乐服务"},{code:"7",name:"其他"}],districtList:[{code:"",name:"全部"},{code:"1",name:"城镇"},{code:"2",name:"乡村"}],cateLvl1List:[],cateLvl2List:[],cateLvl3List:[],ruleForm:{headImg:"",shopName:"",ownerName:"",phoneNo:"",addrProvince:"",addrCity:"",addrArea:"",addrDetail:"",licenceNo:"",licenceImg:"",district:"",commercial:"",salesManNames:"",contactName:"",contactPhone:"",authStatus:"",failReason:""},rules:{headImg:[{required:!0,message:"请上传门店照片",trigger:"change"}],shopName:[{required:!0,message:"请输入门店名称",trigger:"blur"}],ownerName:[{required:!0,message:"请输入经营人姓名",trigger:"blur"}],phoneNo:[{required:!0,message:"请输入经营人电话",trigger:"blur"}],addrProvince:[{required:!0,message:"请选择省份",trigger:"change"}],addrCity:[{required:!0,message:"请选择城市",trigger:"change"}],addrArea:[{required:!0,message:"请选择地区",trigger:"change"}],addrDetail:[{required:!0,message:"请输入门店地址",trigger:"blur"}],licenceNo:[{required:!0,message:"请输入烟草专卖证号",trigger:"blur"}],licenceImg:[{required:!0,message:"请上传烟草专卖证号照片",trigger:"change"}],district:[{required:!0,message:"请选择区域",trigger:"change"}],commercial:[{required:!0,message:"请选择业态",trigger:"change"}],salesManNames:[{required:!0,message:"请输入业务员姓名",trigger:"change"}],contactName:[{required:!0,message:"请输入联系人姓名",trigger:"change"}],contactPhone:[{required:!0,message:"请输入联系人电话",trigger:"change"}],authStatus:[{required:!0,message:"请选择审核状态",trigger:"change"}],failReason:[]},applyTime:"",passTime:""}),created(){this.getOneCategory(),this.getReviewDetail()},methods:{authStatusChange(e){2==e?this.rules.failReason=[]:3==e&&(this.rules.failReason=[{required:!0,message:"请输入审批不通过原因",trigger:"change"}])},getReviewDetail(){this.$request.post("/lsh/seller-manager/seller/select/detail",{sellerId:this.sellerId},!1,e=>{e.ok&&(this.applyTime=new Date(e.data.sellerInfo.applyTime).Format("yyyy-MM-dd hh:mm:ss"),this.passTime=new Date(e.data.sellerInfo.passTime).Format("yyyy-MM-dd hh:mm:ss"),this.ruleForm.headImg=e.data.sellerInfo.headImg,this.ruleForm.shopName=e.data.sellerInfo.shopName,this.ruleForm.ownerName=e.data.sellerInfo.ownerName,this.ruleForm.phoneNo=e.data.sellerInfo.ownerName,this.ruleForm.addrProvince=e.data.sellerInfo.addrProvince+"",this.ruleForm.addrCity=e.data.sellerInfo.addrCity+"",this.ruleForm.addrArea=e.data.sellerInfo.addrArea+"",this.ruleForm.addrDetail=e.data.sellerInfo.addrDetail,this.ruleForm.licenceNo=e.data.sellerInfo.licenceNo,this.ruleForm.licenceImg=e.data.sellerInfo.licenceImg,this.ruleForm.district=e.data.sellerInfo.district+"",this.ruleForm.commercial=e.data.sellerInfo.commercial+"",this.ruleForm.salesManNames=e.data.sellerInfo.salesManNames,this.ruleForm.contactName=e.data.sellerInfo.contactName,this.ruleForm.contactPhone=e.data.sellerInfo.contactPhone,this.getTwoCategory(),this.getThreeCategory())})},getOneCategory(){this.$request.post("/lsh/seller-manager/region/province",{},!0,e=>{this.cateLvl1List=[...e]})},selectBrand1(){this.ruleForm.addrCity="",this.cateLvl2List=[],this.ruleForm.addrArea="",this.cateLvl3List=[],this.getTwoCategory()},getTwoCategory(){""!=this.ruleForm.addrProvince&&this.$request.post("/lsh/seller-manager/region/newCity",{parentCode:this.ruleForm.addrProvince},!0,e=>{this.cateLvl2List=[...e]})},selectBrand2(){this.ruleForm.addrArea="",this.cateLvl3List=[],this.getThreeCategory()},getThreeCategory(){""!=this.ruleForm.addrCity&&this.$request.post("/lsh/seller-manager/region/newDistrict",{parentCode:this.ruleForm.addrCity},!0,e=>{this.cateLvl3List=[...e]})},submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;{let e={sellerId:this.sellerId,headImg:this.ruleForm.headImg,shopName:this.ruleForm.shopName,ownerName:this.ruleForm.ownerName,phoneNo:this.ruleForm.phoneNo,addrProvince:this.ruleForm.addrProvince,addrCity:this.ruleForm.addrCity,addrArea:this.ruleForm.addrArea,addrDetail:this.ruleForm.addrDetail,licenceNo:this.ruleForm.licenceNo,licenceImg:this.ruleForm.licenceImg,district:this.ruleForm.district,commercial:this.ruleForm.commercial,salesManNames:this.ruleForm.salesManNames,contactName:this.ruleForm.contactName,contactPhone:this.ruleForm.contactPhone,authStatus:this.ruleForm.authStatus};3==this.ruleForm.authStatus&&(e.failReason=this.ruleForm.failReason),this.postParams(e)}})},postParams(e){this.$request.post("/lsh/seller-manager/seller/saveOrUpdateSeller",e,!1,e=>{e.ok?(this.$message({message:"保存成功！",type:"success"}),this.returnMgr()):this.$message({message:e.msg,type:"warning"})},e=>{})},handleAvatarSuccess(e,t){var a=e.data||{},s=a&&a.accessUrl;this.ruleForm.headImg=s},handleAvatarSuccessUrl(e,t){var a=e.data||{},s=a&&a.accessUrl;this.ruleForm.licenceImg=s},returnMgr(){this.$router.push({path:this.returnPath})},cancelModify(){this.disabled=!this.disabled,this.ruleForm.authStatus="",this.$refs.ruleForm.resetFields(),this.getReviewDetail()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"basic-msg-container"},[a("div",{staticClass:"basic-msg-broad"},[a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("申请时间：")]),e._v(e._s(e.applyTime))]),e._v(" "),a("div",{staticClass:"basic-msg-item"},[a("span",{staticClass:"title"},[e._v("审核通过时间：")]),e._v(e._s(e.passTime))])]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,disabled:e.disabled,inline:!0,rules:e.rules,"label-width":"150px"}},[a("div",{staticClass:"basic-msg-form-container"},[a("el-form-item",{attrs:{label:"门店照片：",prop:"headImg",size:"small"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.ruleForm.headImg,callback:function(t){e.$set(e.ruleForm,"headImg",t)},expression:"ruleForm.headImg"}}),e._v(" "),a("el-upload",{staticClass:"product-img",attrs:{action:"/api/wiseqr/attach/commonAliUpload","list-type":"picture-card",headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.ruleForm.headImg?a("img",{staticClass:"avatar",attrs:{width:"200",height:"125",src:e.ruleForm.headImg}}):e._e()]),e._v(" "),a("div",{staticClass:"pic-tips"},[e._v("上传图片的最佳尺寸：750像素*468像素；格式png、jpg；大小不超过2M")])],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"门店名称：",prop:"shopName",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.shopName,callback:function(t){e.$set(e.ruleForm,"shopName",t)},expression:"ruleForm.shopName"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"经营人姓名：",prop:"ownerName",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.ownerName,callback:function(t){e.$set(e.ruleForm,"ownerName",t)},expression:"ruleForm.ownerName"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"经营人电话：",prop:"phoneNo",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.phoneNo,callback:function(t){e.$set(e.ruleForm,"phoneNo",t)},expression:"ruleForm.phoneNo"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"位置：",prop:"addrProvince"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand1},model:{value:e.ruleForm.addrProvince,callback:function(t){e.$set(e.ruleForm,"addrProvince",t)},expression:"ruleForm.addrProvince"}},e._l(e.cateLvl1List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrCity"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand2},model:{value:e.ruleForm.addrCity,callback:function(t){e.$set(e.ruleForm,"addrCity",t)},expression:"ruleForm.addrCity"}},e._l(e.cateLvl2List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrArea"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.addrArea,callback:function(t){e.$set(e.ruleForm,"addrArea",t)},expression:"ruleForm.addrArea "}},e._l(e.cateLvl3List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"门店地址：",prop:"addrDetail",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.addrDetail,callback:function(t){e.$set(e.ruleForm,"addrDetail",t)},expression:"ruleForm.addrDetail"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"烟草专卖证号：",prop:"licenceNo",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:e.ruleForm.licenceNo,callback:function(t){e.$set(e.ruleForm,"licenceNo",t)},expression:"ruleForm.licenceNo"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"烟草专卖证号照片：",prop:"licenceImg",size:"small"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.ruleForm.licenceImg,callback:function(t){e.$set(e.ruleForm,"licenceImg",t)},expression:"ruleForm.licenceImg"}}),e._v(" "),a("el-upload",{staticClass:"product-url",attrs:{action:"/api/wiseqr/attach/commonAliUpload","list-type":"picture-card",headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccessUrl}},[e.ruleForm.licenceImg?a("img",{staticClass:"avatar",attrs:{width:"200",height:"200",src:e.ruleForm.licenceImg}}):e._e()]),e._v(" "),a("div",{staticClass:"pic-tips"},[e._v("此图用于商品详情展示；尺寸：宽750像素；格式png、jpg；大小不超过2M")])],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",prop:"district",label:"区域"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.district,callback:function(t){e.$set(e.ruleForm,"district",t)},expression:"ruleForm.district"}},e._l(e.districtList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",prop:"commercial",label:"业态"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.commercial,callback:function(t){e.$set(e.ruleForm,"commercial",t)},expression:"ruleForm.commercial"}},e._l(e.commercialList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"业务员姓名：",prop:"salesManNames",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.salesManNames,callback:function(t){e.$set(e.ruleForm,"salesManNames",t)},expression:"ruleForm.salesManNames"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"联系人姓名：",prop:"contactName",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.contactName,callback:function(t){e.$set(e.ruleForm,"contactName",t)},expression:"ruleForm.contactName"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"联系人电话：",prop:"contactPhone",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:e.ruleForm.contactPhone,callback:function(t){e.$set(e.ruleForm,"contactPhone",t)},expression:"ruleForm.contactPhone"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"审核状态：",prop:"authStatus",size:"small"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.ruleForm.authStatus,callback:function(t){e.$set(e.ruleForm,"authStatus",t)},expression:"ruleForm.authStatus"}}),e._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:e.authStatusChange},model:{value:e.ruleForm.authStatus,callback:function(t){e.$set(e.ruleForm,"authStatus",t)},expression:"ruleForm.authStatus"}},[e._v("审核通过")]),e._v(" "),a("el-radio",{attrs:{label:"3"},on:{change:e.authStatusChange},model:{value:e.ruleForm.authStatus,callback:function(t){e.$set(e.ruleForm,"authStatus",t)},expression:"ruleForm.authStatus"}},[e._v("审核不通过")])],1),e._v(" "),a("div"),e._v(" "),3==e.ruleForm.authStatus?a("el-form-item",{attrs:{label:"不通过原因：",prop:"failReason",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.failReason,callback:function(t){e.$set(e.ruleForm,"failReason",t)},expression:"ruleForm.failReason"}})],1):e._e(),e._v(" "),a("div")],1)]),e._v(" "),a("div",{staticClass:"basic-msg-form-bt"},[e.disabled?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.disabled=!e.disabled}}},[e._v("修改基本信息")]):e._e(),e._v(" "),e.disabled?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),e.disabled?e._e():a("el-button",{on:{click:e.cancelModify}},[e._v("取消")]),e._v(" "),e.disabled?a("el-button",{on:{click:e.returnMgr}},[e._v("返回列表")]):e._e()],1)],1)},staticRenderFns:[]};var l={props:["sellerId"],name:"ReviewDetail",components:{BasicMsg:a("VU/8")(s,r,!1,function(e){a("l72a"),a("Xroj")},"data-v-33568b10",null).exports},data:()=>({returnPath:"/seller/review"})},i={render:function(){var e=this.$createElement;return(this._self._c||e)("basic-msg",{attrs:{sellerId:this.sellerId,returnPath:this.returnPath}})},staticRenderFns:[]};var o=a("VU/8")(l,i,!1,function(e){a("9MSY")},"data-v-7230a22b",null);t.default=o.exports},PgDl:function(e,t){},SO0X:function(e,t){},VSRx:function(e,t){},Xroj:function(e,t){},a8AA:function(e,t){},"atW/":function(e,t){},bKQh:function(e,t){},cTQd:function(e,t){},fSXe:function(e,t){},hcdX:function(e,t){},kY2U:function(e,t){},"kj/0":function(e,t){},l72a:function(e,t){},m4J1:function(e,t){},meY7:function(e,t){},nDB8:function(e,t){},nmTR:function(e,t){},oYA0:function(e,t){},oldZ:function(e,t){},rz5l:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"Reviewmanage",data:()=>({listLoading:!1,brandList:[],snList:[],AllRegion:[],AllRegionOrign:[],allFormsBrand:[{code:"",name:"全部"}],statusList:[{code:"",name:"全部"}],cateLvl1List:[],cateLvl2List:[],cateLvl3List:[],filters:{brandCodeArr:[],snArr:[],adCodes:[],activityForm:"",status:"",keywords:"",time:[]},activityRebateList:[],pageSize:10,pageNo:1,currentPage:1,total:0,dialogVisible:!1,rebate:"",activityCode:""}),created(){this.getListBrand(),this.getListAllForms(),this.getListStatus(),this.getListAllRegion(),this.getActivityRebateList()},methods:{getListBrand(){this.$request.post("/api/wiseqr/prod/listBrand",{},!0,e=>{"200000"==e.ret&&(this.brandList=e.data.list)})},getListSN(){this.$request.post("/api/wiseqr/prod/list",{brandCodeArr:this.filters.brandCodeArr},!0,e=>{"200000"==e.ret&&(this.snList=e.data.list)})},selectBrand(e){this.filters.snArr=[],this.getListSN()},getListAllForms(){this.$request.post("/api/wiseqr/act/allForms",{},!0,e=>{"200000"==e.ret&&(this.allFormsBrand=[...this.allFormsBrand,...e.data.list])})},getListStatus(){this.$request.post("/api/wiseqr/act/statusSelect",{},!0,e=>{if("200000"==e.ret){let t=[];Object.entries(e.data).map((e,a)=>{let[s,r]=e;t.push({code:s,name:r})}),this.statusList=[...this.statusList,...t]}})},getListAllRegion(){this.$request.post("/lsh/seller-manager/region/queryAllRegion",{parentCode:""},!1,e=>{if(e.ok){let t=[],a=Object.entries(e.data.cities),s=[...e.data.provinces];a.map(e=>{let[a,r]=e;s.map(e=>{e.code==a&&r.map(t=>{t.province=e.name})}),t=[...t,...r]}),this.AllRegion=t,this.AllRegionOrign=t}})},filterRegion(e){if(console.log(e),e){let t=[...this.AllRegionOrign].filter(t=>t.name.includes(e)||t.province.includes(e));this.AllRegion=[...t]}else this.AllRegion=this.AllRegionOrign},RegionOrign(){this.AllRegion=this.AllRegionOrign},getActivityRebateList(){let e={brandCode:this.filters.brandCodeArr.join(","),sn:this.filters.snArr.join(","),adCodes:this.filters.adCodes.join(","),activityForm:this.filters.activityForm,status:this.filters.status,keywords:this.filters.keywords,activityStime:this.filters.time&&this.filters.time[0]?this.filters.time[0]:"",activityEtime:this.filters.time&&this.filters.time[1]?this.filters.time[1]:"",pageNo:this.pageNo,pageSize:10};this.postSearch(e)},postSearch(e){this.$request.post("/lsh/seller-manager/setting/activityRebateList",e,!1,e=>{console.log(e.data),this.activityRebateList=e.data.list,this.total=e.data.page.count,this.pageNo=e.data.page.pageNo})},commitForm(){this.pageNo=1,this.currentPage=1,this.getActivityRebateList()},getStatus(){this.filters.brandCodeArr=[],this.filters.snArr=[],this.filters.adCodes=[],this.filters.activityForm="",this.filters.status="",this.filters.keywords="",this.filters.time=[],this.pageNo=1,this.currentPage=1,this.getActivityRebateList()},rebateDialog(e){this.dialogVisible=!0,this.activityCode=e},setActivityRebate(){let e={activityCode:this.activityCode,rebate:this.rebate};this.$request.post("/lsh/seller-manager/setting/setActivityRebate",e,!1,e=>{e.ok?(this.$message({message:"操作成功！",type:"success"}),this.dialogVisible=!1,this.rebate="",this.getActivityRebateList()):(console.log(e),this.$message({message:e.msg,type:"warning"}),this.dialogVisible=!1,this.rebate="",this.getActivityRebateList())})},cancelDialog(){this.dialogVisible=!1,this.rebate=""},jumpTo(){this.$emit("current-change")},handleCurrentChange(e){this.pageNo=e,this.currentPage=e,this.getActivityRebateList()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rebate-manage-container"},[a("div",{staticClass:"box-container"},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters,"label-width":"80px"}},[a("el-form-item",{attrs:{size:"small",label:"品牌"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{multiple:"","collapse-tags":"",filterable:"",placeholder:"请选择"},on:{change:e.selectBrand},model:{value:e.filters.brandCodeArr,callback:function(t){e.$set(e.filters,"brandCodeArr",t)},expression:"filters.brandCodeArr"}},e._l(e.brandList,function(e){return a("el-option",{key:e.brandCode,attrs:{label:e.name,value:e.brandCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"规格"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{multiple:"","collapse-tags":"",filterable:"",placeholder:"请选择"},model:{value:e.filters.snArr,callback:function(t){e.$set(e.filters,"snArr",t)},expression:"filters.snArr"}},e._l(e.snList,function(e){return a("el-option",{key:e.sn,attrs:{label:e.name,value:e.sn}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"地区"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{multiple:"","collapse-tags":"",filterable:"","reserve-keyword":"",placeholder:"请选择","filter-method":e.filterRegion},on:{blur:e.RegionOrign,focus:e.RegionOrign},model:{value:e.filters.adCodes,callback:function(t){e.$set(e.filters,"adCodes",t)},expression:"filters.adCodes"}},e._l(e.AllRegion,function(t){return a("el-option",{key:t.code,staticStyle:{width:"250px"},attrs:{label:t.name,value:t.code}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px","margin-right":"30px"}},[e._v(e._s(t.province))])])}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"活动类型"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:e.filters.activityForm,callback:function(t){e.$set(e.filters,"activityForm",t)},expression:"filters.activityForm"}},e._l(e.allFormsBrand,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"活动状态"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"关键词"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"250px"},attrs:{placeholder:"请输入内容"},model:{value:e.filters.keywords,callback:function(t){e.$set(e.filters,"keywords",t)},expression:"filters.keywords"}})],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"时间区间"}},[a("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"datetimerange",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),e._v(" "),a("div"),e._v(" "),a("div"),e._v(" "),a("el-form-item",{staticClass:"mr0",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.commitForm}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"important",attrs:{size:"small"},on:{click:e.getStatus}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"box-container"},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"crm-table-wrap",attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.activityRebateList}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rebate",label:"返现比例",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"activityName",label:"活动名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"snName",label:"规格",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"活动时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(new Date(t.row.stime).Format("yyyy-MM-dd hh:mm:ss")))]),e._v(" "),a("div",[e._v("-")]),e._v(" "),a("div",[e._v(e._s(new Date(t.row.etime).Format("yyyy-MM-dd hh:mm:ss")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"adNames",label:"投放地区",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusName",label:"使用状态"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.rebateDialog(t.row.activityCode)}}},[e._v("设置返佣比例")])]}}])})],1)],1),e._v(" "),a("el-col",{staticClass:"footer-toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total,prev, pager, next,jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"设置返佣比例",visible:e.dialogVisible,width:"30%","before-close":e.cancelDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{attrs:{type:"number",rows:2,placeholder:"请输入返佣比例"},model:{value:e.rebate,callback:function(t){e.rebate=t},expression:"rebate"}},[a("template",{slot:"append"},[e._v("%")])],2),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[a("el-button",{attrs:{size:"small"},on:{click:e.cancelDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.setActivityRebate}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("nmTR"),a("cTQd")},"data-v-80ec96a2",null);t.default=l.exports},shFu:function(e,t){},uCi9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"SellerManage",data:()=>({listLoading:!1,statusList:[{code:"0",name:"下架"},{code:"1",name:"上架"},{code:"4",name:"待激活"}],commercialList:[{code:"",name:"全部"},{code:"1",name:"食杂店"},{code:"2",name:"便利店"},{code:"3",name:"超市"},{code:"4",name:"商场"},{code:"5",name:"烟酒商店"},{code:"6",name:"娱乐服务"},{code:"7",name:"其他"}],districtList:[{code:"",name:"全部"},{code:"1",name:"城镇"},{code:"2",name:"乡村"}],isPrintList:[{code:"",name:"全部"},{code:"0",name:"无"},{code:"1",name:"有"}],cateLvl1List:[],cateLvl2List:[],cateLvl3List:[],filters:{status:"1",authStatus:"4",commercial:"",district:"",searchType:"",keywords:"",time:[],addrProvince:"",addrCity:"",addrArea:"",isPrint:"",sortType:1,sortValue:1},newList:[],pageSize:10,pageNo:1,currentPage:1,total:0}),created(){this.getListNewList(),this.getOneCategory()},methods:{addNewSeller(){this.$router.push({path:"/seller/mgr/addSeller"})},getOneCategory(){this.$request.post("/lsh/seller-manager/region/province",{},!0,e=>{this.cateLvl1List=[...e]})},selectBrand1(){this.filters.addrCity="",this.cateLvl2List=[],this.filters.addrArea="",this.cateLvl3List=[],this.getTwoCategory()},getTwoCategory(){""!=this.filters.addrProvince&&this.$request.post("/lsh/seller-manager/region/newCity",{parentCode:this.filters.addrProvince},!0,e=>{this.cateLvl2List=[...e]})},selectBrand2(){this.filters.addrArea="",this.cateLvl3List=[],this.getThreeCategory()},getThreeCategory(){""!=this.filters.addrCity&&this.$request.post("/lsh/seller-manager/region/newDistrict",{parentCode:this.filters.addrCity},!0,e=>{this.cateLvl3List=[...e]})},sortDatasChange({column:e,prop:t,order:a}){this.filters.sortValue="descending"==a?1:0,this.getListNewList(1)},getListNewList(e){let t={commercial:this.filters.commercial,district:this.filters.district,searchType:this.filters.searchType,addrProvince:this.filters.addrProvince,addrCity:this.filters.addrCity,addrArea:this.filters.addrArea,appStartTime:this.filters.time&&this.filters.time[0]?this.filters.time[0]:"",appEndTime:this.filters.time&&this.filters.time[1]?this.filters.time[1]:"",isPrint:this.filters.isPrint,sortType:1,sortValue:this.filters.sortValue,pageNo:this.pageNo,pageSize:10};e&&(t.sortType=e,1==this.filters.sortValue?this.filters.sortValue=0:this.filters.sortValue=1),4==this.filters.status?t.authStatus=this.filters.authStatus:t.status=this.filters.status,"3"==this.filters.searchType?t.licenceNo=this.filters.keywords||"":"1"==this.filters.searchType?t.ownerName=this.filters.keywords||"":"2"==this.filters.searchType?t.phoneNo=this.filters.keywords||"":"4"==this.filters.searchType?t.shopName=this.filters.keywords||"":"5"==this.filters.searchType&&(t.salesmanName=this.filters.keywords||""),this.postSearch(t)},postSearch(e){this.$request.post("/lsh/seller-manager/seller/select/newList",e,!1,e=>{console.log(e.data),this.newList=e.list,this.total=e.page.count,this.pageNo=e.page.pageNo})},commitForm(){this.pageNo=1,this.currentPage=1,this.getListNewList()},getStatus(){this.filters.authStatus="1",this.filters.commercial="",this.filters.district="",this.filters.searchType="",this.filters.keywords="",this.filters.time=[],this.filters.appStartTime="",this.filters.appEndTime="",this.filters.addrProvince="",this.filters.addrCity="",this.filters.addrArea="",this.filters.status="1",this.filters.isPrint="",this.pageNo=1,this.currentPage=1,this.getListNewList()},inputWithSelectChange(e){this.filters.keywords=""},approval(e){let t={sellerId:e,status:1};this.$confirm("您确定上架此商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request.post("/lsh/seller-manager/seller/modifyAuthOrg",t,!1,e=>{e.ok?(this.$message({message:"操作成功！",type:"success"}),this.getListNewList()):this.$message({message:e.message,type:"warning"})})})},disapproval(e){let t={sellerId:e,status:0};this.$confirm("您确定下架此商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request.post("/lsh/seller-manager/seller/modifyAuthOrg",t,!1,e=>{e.ok?(this.$message({message:"操作成功！",type:"success"}),this.getListNewList()):(this.$message({message:e.message,type:"warning"}),this.getListNewList())})})},sellerDetail(e){this.$router.push({path:"/seller/mgr/sellerDetail?sellerId="+e})},handleCurrentChange(e){this.pageNo=e,this.currentPage=e,this.getListNewList()},exportSeller(){let e={commercial:this.filters.commercial,district:this.filters.district,searchType:this.filters.searchType,addrProvince:this.filters.addrProvince,addrCity:this.filters.addrCity,addrArea:this.filters.addrArea,appStartTime:this.filters.time&&this.filters.time[0]?this.filters.time[0]:"",appEndTime:this.filters.time&&this.filters.time[1]?this.filters.time[1]:"",isPrint:this.filters.isPrint,sortType:1,sortValue:this.filters.sortValue,pageNo:this.pageNo,pageSize:10};4==this.filters.status?e.authStatus=this.filters.authStatus:e.status=this.filters.status,"3"==this.filters.searchType?e.licenceNo=this.filters.keywords||"":"1"==this.filters.searchType?e.ownerName=this.filters.keywords||"":"2"==this.filters.searchType?e.phoneNo=this.filters.keywords||"":"4"==this.filters.searchType?e.shopName=this.filters.keywords||"":"5"==this.filters.searchType&&(e.salesmanName=this.filters.keywords||"");var t=new XMLHttpRequest,a=new FormData;for(var s in e)a.append(s,e[s]);return t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("POST","/lsh/seller-manager/seller/exportDatas",!0),t.responseType="arraybuffer",t.setRequestHeader("token",sessionStorage.getItem("access_token")),t.setRequestHeader("loginId",sessionStorage.getItem("access_loginId")),t.onload=function(e){if(200==this.status){var a=new Blob([this.response],{type:"application/vnd.ms-excel"}),s=t.getResponseHeader("Content-Disposition"),r=decodeURI(s.match(/filename=(.*?)(;|$)/)[1]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(a,r);else{var l=document.createElement("a");l.href=window.URL.createObjectURL(a),l.download=r,l.click(),window.URL.revokeObjectURL(l.href)}}},t.send(a)}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"seller-manage-container"},[a("div",{staticClass:"box-container"},[a("div",{staticClass:"add-new-seller clearfix"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addNewSeller()}}},[e._v("新建零售户")])],1),e._v(" "),a("div",{staticStyle:{height:"20px"}}),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters,"label-width":"90px"}},[a("el-form-item",{attrs:{size:"small",label:"状态："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{size:"small",label:"业态："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.commercial,callback:function(t){e.$set(e.filters,"commercial",t)},expression:"filters.commercial"}},e._l(e.commercialList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{size:"small",label:"区域："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.district,callback:function(t){e.$set(e.filters,"district",t)},expression:"filters.district"}},e._l(e.districtList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"关键词："}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:e.filters.keywords,callback:function(t){e.$set(e.filters,"keywords",t)},expression:"filters.keywords"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.inputWithSelectChange},slot:"prepend",model:{value:e.filters.searchType,callback:function(t){e.$set(e.filters,"searchType",t)},expression:"filters.searchType"}},[a("el-option",{attrs:{label:"联系人名称",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"联系人电话",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"烟草证号",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"门店名称",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"业务员名称",value:"5"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"时间区间："}},[a("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"datetimerange",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"位置：",prop:"addrProvince"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand1},model:{value:e.filters.addrProvince,callback:function(t){e.$set(e.filters,"addrProvince",t)},expression:"filters.addrProvince"}},e._l(e.cateLvl1List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrCity"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand2},model:{value:e.filters.addrCity,callback:function(t){e.$set(e.filters,"addrCity",t)},expression:"filters.addrCity"}},e._l(e.cateLvl2List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrArea"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},model:{value:e.filters.addrArea,callback:function(t){e.$set(e.filters,"addrArea",t)},expression:"filters.addrArea "}},e._l(e.cateLvl3List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{staticClass:"large",staticStyle:{display:"none"},attrs:{size:"small",label:"是否打印店码："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.isPrint,callback:function(t){e.$set(e.filters,"isPrint",t)},expression:"filters.isPrint"}},e._l(e.isPrintList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{staticClass:"mr0",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.commitForm}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"important",attrs:{size:"small"},on:{click:e.getStatus}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.exportSeller}},[e._v("导出零售户")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"box-container"},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"crm-table-wrap",attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.newList},on:{"sort-change":e.sortDatasChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"licenceNo",label:"烟草专卖号\t",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shopName",label:"门店名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownerName",label:"联系人姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNo",label:"联系人电话",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"位置"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.addrProvinceName))]),t.row.addrProvinceName!=t.row.addrCityName?a("span",[e._v(e._s(t.row.addrCityName))]):e._e(),a("span",[e._v(e._s(t.row.addrAreaName))]),a("span",[e._v(e._s(t.row.addrDetail))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"salesManNames",label:"业务员"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"passTime",label:"入驻时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.applyTime).Format("yyyy-MM-dd hh:mm:ss")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.authOrg.status?a("span",[e._v(e._s("下架中"))]):"1"==t.row.authOrg.status?a("span",[e._v(e._s("上架中"))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.sellerDetail(t.row.sellerId)}}},[e._v("查看详情")]),e._v(" "),"0"==t.row.authOrg.status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.approval(t.row.sellerId)}}},[e._v("上架")]):"1"==t.row.authOrg.status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.disapproval(t.row.sellerId)}}},[e._v("下架")]):e._e()]}}])})],1)],1),e._v(" "),a("el-col",{staticClass:"footer-toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total,prev, pager, next,jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("BNOJ"),a("SO0X")},"data-v-65622cf0",null);t.default=l.exports},uL72:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"Reviewmanage",data:()=>({listLoading:!1,authStatusList:[{code:"1",name:"待审核"},{code:"3",name:"审核未通过"}],commercialList:[{code:"",name:"全部"},{code:"1",name:"食杂店"},{code:"2",name:"便利店"},{code:"3",name:"超市"},{code:"4",name:"商场"},{code:"5",name:"烟酒商店"},{code:"6",name:"娱乐服务"},{code:"7",name:"其他"}],districtList:[{code:"",name:"全部"},{code:"1",name:"城镇"},{code:"2",name:"乡村"}],cateLvl1List:[],cateLvl2List:[],cateLvl3List:[],filters:{authStatus:"1",commercial:"",district:"",searchType:"",keywords:"",time:[],addrProvince:"",addrCity:"",addrArea:""},newList:[],pageSize:10,pageNo:1,currentPage:1,total:0,batchPass:!0,ids:"",dialogVisible:!1,failReason:"",sellerIds:""}),created(){this.getListNewList(),this.getOneCategory()},methods:{addNewSeller(){this.$router.push({path:"/seller/review/addSeller"})},getOneCategory(){this.$request.post("/lsh/seller-manager/region/province",{},!0,e=>{this.cateLvl1List=[...e]})},selectBrand1(){this.filters.addrCity="",this.cateLvl2List=[],this.filters.addrArea="",this.cateLvl3List=[],this.getTwoCategory()},getTwoCategory(){""!=this.filters.addrProvince&&this.$request.post("/lsh/seller-manager/region/newCity",{parentCode:this.filters.addrProvince},!0,e=>{this.cateLvl2List=[...e]})},selectBrand2(){this.filters.addrArea="",this.cateLvl3List=[],this.getThreeCategory()},getThreeCategory(){""!=this.filters.addrCity&&this.$request.post("/lsh/seller-manager/region/newDistrict",{parentCode:this.filters.addrCity},!0,e=>{this.cateLvl3List=[...e]})},getListNewList(){let e={authStatus:this.filters.authStatus,commercial:this.filters.commercial,district:this.filters.district,searchType:this.filters.searchType,addrProvince:this.filters.addrProvince,addrCity:this.filters.addrCity,addrArea:this.filters.addrArea,appStartTime:this.filters.time&&this.filters.time[0]?this.filters.time[0]:"",appEndTime:this.filters.time&&this.filters.time[1]?this.filters.time[1]:"",sortType:1,sortValue:1,pageNo:this.pageNo,pageSize:10};"3"==this.filters.searchType?e.licenceNo=this.filters.keywords||"":"1"==this.filters.searchType?e.ownerName=this.filters.keywords||"":"2"==this.filters.searchType?e.phoneNo=this.filters.keywords||"":"4"==this.filters.searchType?e.shopName=this.filters.keywords||"":"5"==this.filters.searchType&&(e.salesmanName=this.filters.keywords||""),this.postSearch(e)},postSearch(e){this.$request.post("/lsh/seller-manager/seller/select/newList",e,!1,e=>{console.log(e.data),this.newList=e.list,this.total=e.page.count,this.pageNo=e.page.pageNo})},commitForm(){this.pageNo=1,this.currentPage=1,this.getListNewList()},getStatus(){this.filters.authStatus="1",this.filters.commercial="",this.filters.district="",this.filters.searchType="",this.filters.keywords="",this.filters.time=[],this.filters.appStartTime="",this.filters.appEndTime="",this.filters.addrProvince="",this.filters.addrCity="",this.filters.addrArea="",this.pageNo=1,this.currentPage=1,this.getListNewList()},inputWithSelectChange(e){this.filters.keywords=""},handleSelectionChange(e){let t=e;console.log(t);let a=[];t.length>0?(this.batchPass=!1,t.map((e,t)=>{a.push(e.sellerId)}),this.ids=a.join(",")):(this.ids="",this.batchPass=!0)},approval(e){let t={sellerIds:e,authResult:1};this.$confirm("您确定审核通过吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request.post("/lsh/seller-manager/seller/approvalBatch",t,!1,e=>{e.ok?(this.$message({message:"操作成功！",type:"success"}),this.getListNewList()):this.$message({message:e.message,type:"warning"})})})},disapprovalDialog(e){this.dialogVisible=!0,this.sellerIds=e},disapproval(){let e={sellerIds:this.sellerIds,authResult:2,failReason:this.failReason};this.$confirm("您确定审核不通过吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request.post("/lsh/seller-manager/seller/approvalBatch",e,!1,e=>{e.ok?(this.$message({message:"操作成功！",type:"success"}),this.dialogVisible=!1,this.failReason="",this.getListNewList()):(this.$message({message:e.message,type:"warning"}),this.dialogVisible=!1,this.failReason="",this.getListNewList())})})},cancelDialog(){this.dialogVisible=!1,this.failReason=""},passBatch(){this.$confirm("您确定批量审核通过吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request.post("/lsh/seller-manager/seller/approvalBatch",{sellerIds:this.ids,authResult:1},!1,e=>{e.ok?(this.$message({message:"操作成功！",type:"success"}),this.getListNewList()):this.$message({message:e.message,type:"warning"})})})},sellerDetail(e){this.$router.push({path:"/seller/review/reviewDetail?sellerId="+e})},jumpTo(){this.$emit("current-change")},handleCurrentChange(e){this.pageNo=e,this.currentPage=e,this.getListNewList()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"review-manage-container"},[a("div",{staticClass:"box-container"},[a("div",{staticClass:"add-new-seller"},[a("el-button",{staticStyle:{display:"none","margin-bottom":"15px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.addNewSeller()}}},[e._v("新建零售户")])],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters,"label-width":"80px"}},[a("el-form-item",{attrs:{size:"small",label:"审核状态"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.authStatus,callback:function(t){e.$set(e.filters,"authStatus",t)},expression:"filters.authStatus"}},e._l(e.authStatusList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{size:"small",label:"业态"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.commercial,callback:function(t){e.$set(e.filters,"commercial",t)},expression:"filters.commercial"}},e._l(e.commercialList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{display:"none"},attrs:{size:"small",label:"区域"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.filters.district,callback:function(t){e.$set(e.filters,"district",t)},expression:"filters.district"}},e._l(e.districtList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"时间区间"}},[a("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"datetimerange",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}})],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"关键词"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:e.filters.keywords,callback:function(t){e.$set(e.filters,"keywords",t)},expression:"filters.keywords"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.inputWithSelectChange},slot:"prepend",model:{value:e.filters.searchType,callback:function(t){e.$set(e.filters,"searchType",t)},expression:"filters.searchType"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"联系人名称",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"联系人电话",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"烟草证号",value:"3"}}),e._v(" "),a("el-option",{staticStyle:{display:"none"},attrs:{label:"门店名称",value:"4"}}),e._v(" "),a("el-option",{staticStyle:{display:"none"},attrs:{label:"业务员名称",value:"5"}})],1)],1)],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"位置：",prop:"addrProvince"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand1},model:{value:e.filters.addrProvince,callback:function(t){e.$set(e.filters,"addrProvince",t)},expression:"filters.addrProvince"}},e._l(e.cateLvl1List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrCity"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand2},model:{value:e.filters.addrCity,callback:function(t){e.$set(e.filters,"addrCity",t)},expression:"filters.addrCity"}},e._l(e.cateLvl2List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrArea"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},model:{value:e.filters.addrArea,callback:function(t){e.$set(e.filters,"addrArea",t)},expression:"filters.addrArea "}},e._l(e.cateLvl3List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{staticClass:"mr0",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.commitForm}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"important",attrs:{size:"small"},on:{click:e.getStatus}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"box-container"},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"crm-table-wrap",attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.newList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"licenceNo",label:"烟草专卖号\t",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shopName",label:"门店名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownerName",label:"联系人姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNo",label:"联系人电话",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"applyTime",label:"申请时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.applyTime).Format("yyyy-MM-dd hh:mm:ss")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"位置"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.addrProvinceName))]),t.row.addrProvinceName!=t.row.addrCityName?a("span",[e._v(e._s(t.row.addrCityName))]):e._e(),a("span",[e._v(e._s(t.row.addrAreaName))]),a("span",[e._v(e._s(t.row.addrDetail))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"authStatus",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.authStatus?a("span",[e._v(e._s("待审核"))]):"2"==t.row.authStatus?a("span",[e._v(e._s("审核通过"))]):"3"==t.row.authStatus?a("span",[e._v(e._s("审核未通过"))]):"4"==t.row.authStatus?a("span",[e._v(e._s("待激活"))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.sellerDetail(t.row.sellerId)}}},[e._v("查看详情")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.disapprovalDialog(t.row.sellerId)}}},[e._v("审核不通过")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.approval(t.row.sellerId)}}},[e._v("审核通过")])]}}])})],1)],1),e._v(" "),a("el-col",{staticClass:"footer-toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",size:"small",disabled:e.batchPass},on:{click:function(t){e.passBatch(e.ids)}}},[e._v("批量通过")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total,prev, pager, next,jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"请输入不通过理由",visible:e.dialogVisible,width:"30%","before-close":e.cancelDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.failReason,callback:function(t){e.failReason=t},expression:"failReason"}}),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[a("el-button",{attrs:{size:"small"},on:{click:e.cancelDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.disapproval}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("fSXe"),a("m4J1")},"data-v-00e4f27c",null);t.default=l.exports},wa5S:function(e,t){},xLGc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"",data:()=>({headers:{loginId:sessionStorage.getItem("access_loginId"),token:sessionStorage.getItem("access_token")},commercialList:[{code:"",name:"全部"},{code:"1",name:"食杂店"},{code:"2",name:"便利店"},{code:"3",name:"超市"},{code:"4",name:"商场"},{code:"5",name:"烟酒商店"},{code:"6",name:"娱乐服务"},{code:"7",name:"其他"}],districtList:[{code:"",name:"全部"},{code:"1",name:"城镇"},{code:"2",name:"乡村"}],cateLvl1List:[],cateLvl2List:[],cateLvl3List:[],ruleForm:{headImg:"",shopName:"",ownerName:"",phoneNo:"",addrProvince:"",addrCity:"",addrArea:"",addrDetail:"",licenceNo:"",licenceImg:"",district:"",commercial:"",salesManNames:"",contactName:"",contactPhone:""},rules:{headImg:[{required:!0,message:"请上传门店照片",trigger:"change"}],shopName:[{required:!0,message:"请输入门店名称",trigger:"blur"}],ownerName:[{required:!0,message:"请输入经营人姓名",trigger:"blur"}],phoneNo:[{required:!0,message:"请输入经营人电话",trigger:"blur"}],addrProvince:[{required:!0,message:"请选择省份",trigger:"change"}],addrCity:[{required:!0,message:"请选择城市",trigger:"change"}],addrArea:[{required:!0,message:"请选择地区",trigger:"change"}],addrDetail:[{required:!0,message:"请输入门店地址",trigger:"blur"}],licenceNo:[{required:!0,message:"请输入烟草专卖证号",trigger:"blur"}],licenceImg:[{required:!0,message:"请上传烟草专卖证号照片",trigger:"change"}],district:[{required:!0,message:"请选择区域",trigger:"change"}],commercial:[{required:!0,message:"请选择业态",trigger:"change"}],salesManNames:[{required:!0,message:"请输入业务员姓名",trigger:"change"}],contactName:[{required:!0,message:"请输入联系人姓名",trigger:"change"}],contactPhone:[{required:!0,message:"请输入联系人电话",trigger:"change"}]}}),created(){this.getOneCategory()},methods:{getOneCategory(){this.$request.post("/lsh/seller-manager/region/province",{},!0,e=>{this.cateLvl1List=[...e]})},selectBrand1(){this.ruleForm.addrCity="",this.cateLvl2List=[],this.ruleForm.addrArea="",this.cateLvl3List=[],this.getTwoCategory()},getTwoCategory(){""!=this.ruleForm.addrProvince&&this.$request.post("/lsh/seller-manager/region/newCity",{parentCode:this.ruleForm.addrProvince},!0,e=>{this.cateLvl2List=[...e]})},selectBrand2(){this.ruleForm.addrArea="",this.cateLvl3List=[],this.getThreeCategory()},getThreeCategory(){""!=this.ruleForm.addrCity&&this.$request.post("/lsh/seller-manager/region/newDistrict",{parentCode:this.ruleForm.addrCity},!0,e=>{this.cateLvl3List=[...e]})},submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;{let e={headImg:this.ruleForm.headImg,shopName:this.ruleForm.shopName,ownerName:this.ruleForm.ownerName,phoneNo:this.ruleForm.phoneNo,addrProvince:this.ruleForm.addrProvince,addrCity:this.ruleForm.addrCity,addrArea:this.ruleForm.addrArea,addrDetail:this.ruleForm.addrDetail,licenceNo:this.ruleForm.licenceNo,licenceImg:this.ruleForm.licenceImg,district:this.ruleForm.district,commercial:this.ruleForm.commercial,salesManNames:this.ruleForm.salesManNames,contactName:this.ruleForm.contactName,contactPhone:this.ruleForm.contactPhone};this.postParams(e)}})},postParams(e){this.$request.post("/lsh/seller-manager/seller/saveOrUpdateSeller",e,!1,e=>{e.ok?(this.$message({message:"保存成功！",type:"success"}),this.returnMgr()):this.$message({message:e.message,type:"warning"})},e=>{})},handleAvatarSuccess(e,t){var a=e.data||{},s=a&&a.accessUrl;this.ruleForm.headImg=s},handleAvatarSuccessUrl(e,t){var a=e.data||{},s=a&&a.accessUrl;this.ruleForm.licenceImg=s},returnMgr(){this.$router.push({path:"/seller/mgr"})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"add-seller-container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,inline:!0,rules:e.rules,"label-width":"150px"}},[a("div",{staticClass:"add-seller-form-container"},[a("el-form-item",{attrs:{label:"门店照片：",prop:"headImg",size:"small"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.ruleForm.headImg,callback:function(t){e.$set(e.ruleForm,"headImg",t)},expression:"ruleForm.headImg"}}),e._v(" "),a("el-upload",{staticClass:"product-img",attrs:{action:"/api/wiseqr/attach/commonAliUpload","list-type":"picture-card",headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.ruleForm.headImg?a("img",{staticClass:"avatar",attrs:{width:"200",height:"125",src:e.ruleForm.headImg}}):e._e()]),e._v(" "),a("div",{staticClass:"pic-tips"},[e._v("上传图片的最佳尺寸：750像素*468像素；格式png、jpg；大小不超过2M")])],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"门店名称：",prop:"shopName",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.shopName,callback:function(t){e.$set(e.ruleForm,"shopName",t)},expression:"ruleForm.shopName"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"经营人姓名：",prop:"ownerName",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.ownerName,callback:function(t){e.$set(e.ruleForm,"ownerName",t)},expression:"ruleForm.ownerName"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"经营人电话：",prop:"phoneNo",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.phoneNo,callback:function(t){e.$set(e.ruleForm,"phoneNo",t)},expression:"ruleForm.phoneNo"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"位置：",prop:"addrProvince"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand1},model:{value:e.ruleForm.addrProvince,callback:function(t){e.$set(e.ruleForm,"addrProvince",t)},expression:"ruleForm.addrProvince"}},e._l(e.cateLvl1List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrCity"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},on:{change:e.selectBrand2},model:{value:e.ruleForm.addrCity,callback:function(t){e.$set(e.ruleForm,"addrCity",t)},expression:"ruleForm.addrCity"}},e._l(e.cateLvl2List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"",prop:"addrArea"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.addrArea,callback:function(t){e.$set(e.ruleForm,"addrArea",t)},expression:"ruleForm.addrArea "}},e._l(e.cateLvl3List,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"门店地址：",prop:"addrDetail",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.addrDetail,callback:function(t){e.$set(e.ruleForm,"addrDetail",t)},expression:"ruleForm.addrDetail"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"烟草专卖证号：",prop:"licenceNo",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:e.ruleForm.licenceNo,callback:function(t){e.$set(e.ruleForm,"licenceNo",t)},expression:"ruleForm.licenceNo"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"烟草专卖证号照片：",prop:"licenceImg",size:"small"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.ruleForm.licenceImg,callback:function(t){e.$set(e.ruleForm,"licenceImg",t)},expression:"ruleForm.licenceImg"}}),e._v(" "),a("el-upload",{staticClass:"product-url",attrs:{action:"/api/wiseqr/attach/commonAliUpload","list-type":"picture-card",headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccessUrl}},[e.ruleForm.licenceImg?a("img",{staticClass:"avatar",attrs:{width:"200",height:"200",src:e.ruleForm.licenceImg}}):e._e()]),e._v(" "),a("div",{staticClass:"pic-tips"},[e._v("此图用于商品详情展示；尺寸：宽750像素；格式png、jpg；大小不超过2M")])],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",prop:"district",label:"区域"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.district,callback:function(t){e.$set(e.ruleForm,"district",t)},expression:"ruleForm.district"}},e._l(e.districtList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{size:"small",prop:"commercial",label:"业态"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.commercial,callback:function(t){e.$set(e.ruleForm,"commercial",t)},expression:"ruleForm.commercial"}},e._l(e.commercialList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"业务员姓名：",prop:"salesManNames",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.salesManNames,callback:function(t){e.$set(e.ruleForm,"salesManNames",t)},expression:"ruleForm.salesManNames"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"联系人姓名：",prop:"contactName",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.ruleForm.contactName,callback:function(t){e.$set(e.ruleForm,"contactName",t)},expression:"ruleForm.contactName"}})],1),e._v(" "),a("div"),e._v(" "),a("el-form-item",{attrs:{label:"联系人电话：",prop:"contactPhone",size:"small"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:e.ruleForm.contactPhone,callback:function(t){e.$set(e.ruleForm,"contactPhone",t)},expression:"ruleForm.contactPhone"}})],1),e._v(" "),a("div"),e._v(" "),a("div",{staticClass:"add-seller-form-bt"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.returnMgr}},[e._v("取消")])],1)],1)],1)])],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("Luaj"),a("atW/")},"data-v-e351b17c",null);t.default=l.exports}});
//# sourceMappingURL=4.51d0aa0c06500351b104.js.map