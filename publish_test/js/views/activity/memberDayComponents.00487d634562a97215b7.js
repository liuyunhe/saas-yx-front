(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{100:function(t,a,s){},109:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t.showAward&&!t.showCard?s("div",{staticClass:"layer"},[s("div",{staticClass:"bg"}),t._v(" "),s("div",{staticClass:"award"},[s("img",{staticClass:"award-img",attrs:{src:t.drawData.awdPic}}),t._v(" "),s("div",{staticClass:"award-tips"},[t._v(t._s(t.drawData.awdName))]),t._v(" "),s("div",{staticClass:"get-award",on:{click:t.getAward}},[t._v("立即领取")])]),t._v(" "),s("div",{staticClass:"close",on:{click:t.closeLayer}})]):t._e(),t._v(" "),!t.showAward&&t.showCard?s("div",{staticClass:"layer"},[s("div",{staticClass:"bg"}),t._v(" "),s("div",{staticClass:"award"},[s("img",{staticClass:"card-img",attrs:{src:t.commucard.imgUrl}}),t._v(" "),s("div",{staticClass:"award-tips"},[t._v(t._s(t.commucard.name))]),t._v(" "),s("div",{staticClass:"get-award",on:{click:t.MemberDayCards}},[t._v("立即领取")])]),t._v(" "),s("div",{staticClass:"close",on:{click:t.closeLayer}})]):t._e(),t._v(" "),t.showAward&&t.showCard?s("div",{staticClass:"layer"},[s("div",{staticClass:"bg"}),t._v(" "),s("div",{staticClass:"award"},[s("div",{staticClass:"flex"},[s("img",{staticClass:"left-img",attrs:{src:t.drawData.awdPic}}),t._v(" "),s("img",{staticClass:"plus",attrs:{src:"https://qrmkt.oss-cn-beijing.aliyuncs.com/common/memberDay/Main/%2B.png",alt:""}}),t._v(" "),s("img",{staticClass:"right-img",attrs:{src:t.commucard.imgUrl}})]),t._v(" "),s("div",{staticClass:"award-tips"},[t._v(t._s(t.drawData.awdName)+"+"+t._s(t.commucard.name))]),t._v(" "),s("div",{staticClass:"get-award",on:{click:t.getAward}},[t._v("立即领取")])]),t._v(" "),s("div",{staticClass:"close",on:{click:t.closeLayer}})]):t._e(),t._v(" "),t.showNoAward?s("div",{staticClass:"layer",staticStyle:{"z-index":"999"}},[s("div",{staticClass:"bg"}),t._v(" "),s("div",{staticClass:"sorry"},[s("img",{staticClass:"sorry-img",attrs:{src:"https://qrmkt.oss-cn-beijing.aliyuncs.com/common/memberDay/Main/sorry-img.png"}}),t._v(" "),s("div",{staticClass:"award-tips"},[t._v("未中奖，下次再接再厉")]),t._v(" "),s("div",{staticClass:"get-award",on:{click:t.closeSorry}},[t._v("知道了")])]),t._v(" "),s("div",{staticClass:"close",on:{click:t.closeSorry}})]):t._e()])},i=[];s.d(a,"a",function(){return e}),s.d(a,"b",function(){return i})},110:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"close",on:{click:t.close}}),t._v(" "),s("div",{staticClass:"page-tab"},[s("div",{staticClass:"tab tab1",class:{"bg-gray":1==t.state.tab},on:{click:function(a){t.state.tab=1}}},[s("span",[t._v("活动说明")])]),t._v(" "),s("div",{staticClass:"tab tab2",class:{"bg-gray":2==t.state.tab},on:{click:t.getMyAward}},[s("span",[t._v("我的奖品")])])]),t._v(" "),s("div",{staticClass:"container"},[1==t.state.tab?s("div",{staticClass:"notes-container"},[t._m(0),t._v(" "),s("div",{staticClass:"notes-content",domProps:{innerHTML:t._s(t.data)}})]):t._e(),t._v(" "),2==t.state.tab?s("div",{staticClass:"award-container"},[t._l(t.myAward,function(a,e){return t.myAward.length>0?s("div",{key:e,class:{"award-item":!0,white:!0},on:{click:function(s){t.clickglist(a)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:2==a.awdStatus,expression:"item.awdStatus == 2"}],staticClass:"out-date-mask"}),t._v(" "),s("div",{staticClass:"award-info"},[s("div",{staticClass:"award-pic"},[s("img",{attrs:{src:a.awdPic,alt:""}})]),t._v(" "),s("div",{staticClass:"award-info-content"},[s("h3",[t._v(t._s(a.awdName))]),t._v(" "),3==a.awdType?s("div",{staticClass:"price"},[s("span",[t._v("金额："+t._s(a.redMoney||0))])]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==a.awdStatus,expression:"item.awdStatus == 0"}],staticClass:"end-time"},[t._v("请在"+t._s(a.expireTime)+"前领取")])]),t._v(" "),s("div",{staticClass:"right"},[0==a.awdStatus?s("img",{attrs:{src:"http://qoss.qrmkt.cn/new_platform/right-arrow.png",alt:""}}):t._e(),t._v(" "),1==a.awdStatus&&2==a.awdType||1==a.awdStatus&&1==a.awdType?s("img",{attrs:{src:"http://qoss.qrmkt.cn/new_platform/right-arrow.png",alt:""}}):t._e()])]),t._v(" "),s("div",{staticClass:"award-status"},[s("p",[s("span",{directives:[{name:"show",rawName:"v-show",value:0==a.awdStatus||2==a.awdStatus,expression:"item.awdStatus == 0 || item.awdStatus == 2"}]},[t._v("中奖时间:")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:0==a.awdStatus||2==a.awdStatus,expression:"item.awdStatus == 0 || item.awdStatus == 2"}]},[t._v(t._s(a.drawTime))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==a.awdStatus,expression:"item.awdStatus == 1"}]},[t._v("领奖时间:")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==a.awdStatus,expression:"item.awdStatus == 1"}]},[t._v(t._s(a.rcvTime))])]),t._v(" "),s("p",[s("span",{class:{wait:0==a.awdStatus}},[t._v(t._s(0==a.awdStatus?"待领取":2==a.awdStatus?"已过期":"已领取"))])])])]):t._e()}),t._v(" "),0==t.myAward.length?s("div",{staticClass:"no-award"},[t._v("暂无奖品~")]):t._e()],2):t._e()])])},i=[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"notes-title"},[a("span",[this._v("活动说明")])])}];s.d(a,"a",function(){return e}),s.d(a,"b",function(){return i})},141:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=function(){return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,a){var s=[],e=!0,i=!1,r=void 0;try{for(var c,n=t[Symbol.iterator]();!(e=(c=n.next()).done)&&(s.push(c.value),!a||s.length!==a);e=!0);}catch(t){i=!0,r=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw r}}return s}(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=c(s(142)),r=c(s(145));function c(t){return t&&t.__esModule?t:{default:t}}a.default={data:function(){return{actCode:"",communityCardTicket:"",ticket:"",commucard:{},showLayer:!1,showAward:!1,showCard:!1,showNoAward:!1,showRulePage:!1,isComplete:!1}},components:{mdAwardLayer:i.default,memberDayRulesPage:r.default},methods:{getActCode:function(t){var a=this;this.Fetch.post("/hbact/hyr/home/queryActCode",{actType:t}).then(function(t){200==t.code&&(a.actCode=t.data.actCode)})},handleDarw:function(){var t=this;this.loadingAnimate=!0,Promise.all([this.drawAward(),this.getCommucard()]).then(function(a){var s=e(a,2),i=s[0],r=s[1];t.loadingAnimate=!1,t.htClass="nots",t.rtClass="nots","200"===i.code?(t.isComplete=!0,i.data&&null!=i.data?(t.state.award=!0,t.drawData=i.data,t.showAward=!0):t.showNoAward=!0):(t.$refs.alert.show=!0,t.clickFlag=!1,t.constants={title:"提示",msg:i.msg,type:"alert",text:["知道了"]}),"200"===r.code&&(t.commucard=r.data,t.showCard=!0),"500"==r.code&&(t.showCard=!1),t.showLayer=!0})},drawAward:function(){var t=this;return new Promise(function(a,s){t.Fetch.get("/syx/act/pr/draw",{actCode:t.actCode,ticket:t.ticket}).then(function(t){a(t)})})},getLuckyCard:function(){this.$refs.alert.show=!0,this.clickFlag=!1,this.constants={title:"提示",msg:"领取成功",type:"alert",text:["知道了"],flag:2}},getCommucard:function(){var t=this;return new Promise(function(a,s){t.Fetch.post("/hbact/commucard/get",{ticket:t.communityCardTicket}).then(function(t){a(t)})})},closeLayer:function(){this.showLayer=!1,this.showPrePage=!0},closeSorry:function(){this.showNoAward=!1,this.showCard||this.closeLayer()}}}},142:function(t,a,s){"use strict";s.r(a);var e=s(109),i=s(95);for(var r in i)"default"!==r&&function(t){s.d(a,t,function(){return i[t]})}(r);s(143);var c=s(0),n=Object(c.a)(i.default,e.a,e.b,!1,null,"2f0a9a93",null);n.options.__file="mdAwardLayer.vue",a.default=n.exports},143:function(t,a,s){"use strict";var e=s(97);s.n(e).a},145:function(t,a,s){"use strict";s.r(a);var e=s(110),i=s(98);for(var r in i)"default"!==r&&function(t){s.d(a,t,function(){return i[t]})}(r);s(146);var c=s(0),n=Object(c.a)(i.default,e.a,e.b,!1,null,"33f1ca21",null);n.options.__file="memberDayRulesPage.vue",a.default=n.exports},146:function(t,a,s){"use strict";var e=s(100);s.n(e).a},95:function(t,a,s){"use strict";s.r(a);var e=s(96),i=s.n(e);for(var r in e)"default"!==r&&function(t){s.d(a,t,function(){return e[t]})}(r);a.default=i.a},96:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"mdAwardLayer",props:["drawData","commucard","showAward","showNoAward","showCard"],methods:{closeLayer:function(){this.$emit("closeLayer")},getAward:function(){7==this.drawData.awdType||8==this.drawData.awdType?this.$emit("getLuckyCard"):this.$emit("handleReceive")},MemberDayCards:function(){this.closeLayer(),window.location.href="/yx/views/activity/memberDayCards.html"},closeSorry:function(){this.$emit("closeSorry")}}}},97:function(t,a,s){},98:function(t,a,s){"use strict";s.r(a);var e=s(99),i=s.n(e);for(var r in e)"default"!==r&&function(t){s.d(a,t,function(){return e[t]})}(r);a.default=i.a},99:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:["data","actCode"],data:function(){return{myAward:[],state:{tab:1}}},methods:{getMyAward:function(){var t=this;this.state.tab=2,this.loadingAnimate=!0,this.Fetch.get("/syx/awd/actawd/list",{actCode:this.actCode,recordId:0}).then(function(a){t.loadingAnimate=!1,"200"===a.code&&(t.myAward=a.data)})},clickglist:function(t){0==t.awdStatus?this.gotoReceive(t):(1==t.awdStatus&&2==t.awdType||1==t.awdStatus&&1==t.awdType)&&this.gotoReceive(t)},gotoReceive:function(t){this.$emit("gotoReceive",t)},close:function(){this.$emit("close")}}}}},[[141,1,0]]]);